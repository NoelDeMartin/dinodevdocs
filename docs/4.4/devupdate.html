<!doctype html>
<html lang="en-AU" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-devupdate" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Moodle 4.4 developer update | Moodle Developer Resources</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://noeldemartin.github.io/moodledevdocs/docs/4.4/devupdate"><meta data-rh="true" property="og:locale" content="en_AU"><meta data-rh="true" name="docusaurus_locale" content="en-AU"><meta data-rh="true" name="docsearch:language" content="en-AU"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Moodle 4.4 developer update | Moodle Developer Resources"><meta data-rh="true" name="description" content="This page highlights the important changes that are coming in Moodle 4.4 for developers."><meta data-rh="true" property="og:description" content="This page highlights the important changes that are coming in Moodle 4.4 for developers."><link data-rh="true" rel="icon" href="/moodledevdocs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://noeldemartin.github.io/moodledevdocs/docs/4.4/devupdate"><link data-rh="true" rel="alternate" href="https://noeldemartin.github.io/moodledevdocs/docs/4.4/devupdate" hreflang="en-AU"><link data-rh="true" rel="alternate" href="https://noeldemartin.github.io/moodledevdocs/docs/4.4/devupdate" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://NNUY2D5GV2-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-L9EE8RW5B1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-L9EE8RW5B1",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Moodle Developer Resources" href="/moodledevdocs/opensearch.xml">

<link rel="icon" href="/moodledevdocs/img/icons/orange_m.svg">
<link rel="manifest" href="/moodledevdocs/manifest.json">
<meta name="theme-color" content="rgb(208, 99, 0)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/moodledevdocs/img/icons/maskable_icon.png">
<link rel="mask-icon" href="/moodledevdocs/img/icons/maskable_icon.png" color="rgb(208, 99, 0)">
<meta name="msapplication-TileImage" content="/moodledevdocs/img/icons/maskable_icon.png">
<meta name="msapplication-TileColor" content="#000">

<script src="https://zipchat.ai/widget/zipchat.js?id=gQKDVDpI9xQWW4n04W4K" defer="defer"></script><link rel="stylesheet" href="/moodledevdocs/assets/css/styles.cca56588.css">
<script src="/moodledevdocs/assets/js/runtime~main.29916bfb.js" defer="defer"></script>
<script src="/moodledevdocs/assets/js/main.63ca6e29.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="moodlesitestopnavbar_Frnu"><button class="mobile_menu_jwKm" type="button" aria-label="Toggle navigation"><span class="fa_waffle_mobile_mW1T"></span></button><a href="https://moodle.org" class="navbar-brand position-lg-fixed d-none d-lg-flex align-items-center m-0 p-0 aabtn"><img src="https://moodle.org/theme/moodleorg/pix/moodle_logo_TM.svg" class="nav_logo_TBny" height="32px" alt="Moodle.org"></a><div class="navbar_wrapper_BLET" id="navbar_wrapper"><ul class="navbar_nav_t6hh"><li><a class="nav_link_MbBP" href="https://moodle.org/course"><span>Forums</span></a></li><li><a class="nav_link_MbBP" href="https://docs.moodle.org"><span>Documentation</span></a></li><li><a class="nav_link_MbBP" href="https://download.moodle.org"><span>Downloads</span></a></li><li><a class="nav_link_MbBP" href="https://moodle.org/demo"><span>Demo</span></a></li><li><a class="nav_link_MbBP" href="https://tracker.moodle.org"><span>Tracker</span></a></li><li><a class="nav_link_MbBP" href="https://moodledev.io/"><span>Development</span></a></li><li><a class="nav_link_MbBP" href="https://lang.moodle.org"><span>Translation</span></a></li><div class="extra_links_K5sj"><hr height="8px" style="margin:0.5rem"><li><a class="nav_link_MbBP" href="https://moodle.org/public/search"><i class="fa_search_d6Q5" style="margin-right:0.5rem"></i>Search</a></li><li><button class="nav_link_MbBP" type="button"><i class="fa_waffle_HYQ3" style="margin-right:0.5rem"></i>Moodle Sites<i class="fa_arrow_r_hbkJ" style="margin-left:1rem"></i></button></li></div><li class="search_bDdD"><a class="nav_link_MbBP" href="https://moodle.org/public/search" aria-label="Search moodle.org"><i class="fa_search_d6Q5"></i></a></li><li class="waffle_SC1o"><button class="nav_link_MbBP" type="button" aria-label="Toggle sites menu"><i class="fa_waffle_HYQ3"></i></button></li><div class="moodle_sites_pA64" id="waffle_menu"><div class="pathways_Gtf7"><div class="heading_y6w7">What are you looking for?</div><hr><p>Learn about Moodle&#x27;s products, like Moodle LMS or Moodle Worplace, or find a Moodle Certified Service Provider.<br><br><a href="https://moodle.com">Moodle.com<!-- --> <i class="fa fa-long-arrow-right icon"></i></a></p><hr><p>Our social network to share and curate open educational resources.<br><br><a href="https://moodle.net">MoodleNet<!-- --> <i class="fa fa-long-arrow-right icon"></i></a></p><hr><p>Courses and programs to develop your skills as a Moodle educator, administrator, designer or developer.<br><br><a href="https://moodle.academy">Moodle Academy<!-- --> <i class="fa fa-long-arrow-right icon"></i></a></p></div></div></ul><ul class="sites_nav_zUr9" id="sites-nav"><button class="nav_link_MbBP" type="button" aria-label="Close sites menu"><i class="fa_arrow_left_jgS9" style="margin-left:-0.6rem"></i></button><div class="pt-2 pathways"><p><a href="https://moodle.com">Moodle.com</a><br>Learn about Moodle&#x27;s products, like Moodle LMS or Moodle Worplace, or find a Moodle Certified Service Provider.<br></p><hr><p><a href="https://moodle.net">MoodleNet</a><br>Our social network to share and curate open educational resources.<br></p><hr><p><a href="https://moodle.academy">Moodle Academy</a><br>Courses and programs to develop your skills as a Moodle educator, administrator, designer or developer.<br></p></div></ul></div></nav><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/moodledevdocs/docs/4.4">Guides</a><a class="navbar__item navbar__link" href="/moodledevdocs/general/community/contribute">Community</a><a class="navbar__item navbar__link" href="/moodledevdocs/general/development/gettingstarted">Coding</a><a class="navbar__item navbar__link" href="/moodledevdocs/general/development/process">Process</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/moodledevdocs/docs/4.4">main</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/moodledevdocs/docs/4.4/devupdate">main</a></li><li><a class="dropdown__link" href="/moodledevdocs/docs/4.3/devupdate">4.3</a></li><li><a class="dropdown__link" href="/moodledevdocs/docs/4.2/devupdate">4.2</a></li><li><a class="dropdown__link" href="/moodledevdocs/docs/4.1/devupdate">4.1</a></li><li><a href="https://docs.moodle.org/dev/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Legacy documentation<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/moodledevdocs/versions">All versions</a></li></ul></div><div class="wrapper_Jz6K"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/moodledevdocs/docs/4.4">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/moodledevdocs/docs/4.4/guides">Developer guides</a><button aria-label="Expand sidebar category &#x27;Developer guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/moodledevdocs/docs/4.4/apis">API guides</a><button aria-label="Expand sidebar category &#x27;API guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/moodledevdocs/general/contentguidelines">Content guidelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/moodledevdocs/docs/4.4/devupdate">Developer update</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/moodledevdocs/general/app">Moodle App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/moodledevdocs/general/releases/4.3">Release notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/moodledevdocs/general/projects">Projects</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/moodledevdocs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Developer update</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: main</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Moodle 4.4 developer update</h1></header>
<p>This page highlights the important changes that are coming in Moodle 4.4 for developers.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="core-changes">Core changes<a href="#core-changes" class="hash-link" aria-label="Direct link to Core changes" title="Direct link to Core changes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependency-injection">Dependency Injection<a href="#dependency-injection" class="hash-link" aria-label="Direct link to Dependency Injection" title="Direct link to Dependency Injection">​</a></h3>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-80072" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>Support for PSR-11 compatible Containers has been introduced and can be accessed via the <code>\core\di</code> class. Read the <a href="/moodledevdocs/docs/4.4/apis/core/di">full documentation</a> for information on how to use Moodle&#x27;s DI infrastructure.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="attributes">Attributes<a href="#attributes" class="hash-link" aria-label="Direct link to Attributes" title="Direct link to Attributes">​</a></h3>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-81011" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>PHP 8.0 introduced support for the Attribute language feature and Moodle is beginning to make use of this in small but helpful ways.</p>
<p>To simplify this adoption, a new <code>\core\attribute_helper</code> class has been created with methods to quickly and easily fetch the <code>\ReflectionAttribute</code> for any relevant attributes.</p>
<p>The new methods can search for an attribute using a reference, which can be:</p>
<ul>
<li>a string, whose name represents a global function, a class, or a class combined with a method, property, constant, or enum</li>
<li>an instantiated object</li>
<li>an array whose first value is either a string or object, and whose optional second value is a child of the first value</li>
</ul>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Fetching attributes</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token delimiter important">&lt;?php</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token package">core</span><span class="token package punctuation" style="color:#393A34">\</span><span class="token package">attribute_helper</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> core\attribute\</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">label</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tags</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Get a label on the \some_function_name() method.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$label</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name static-context">attribute_helper</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">one_from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;some_function_name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name static-context">label</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?-&gt;</span><span class="token function" style="color:#d73a49">newInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Get an instance of a label on the \example class.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$label</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name static-context">attribute_helper</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">one_from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name static-context">example</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name static-context">label</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?-&gt;</span><span class="token function" style="color:#d73a49">newInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Get an instance of a label on an instance of the \example class.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$example</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">example</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$label</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name static-context">attribute_helper</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">one_from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$example</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name static-context">label</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?-&gt;</span><span class="token function" style="color:#d73a49">newInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Get an instance of a label on a constant, property, or method of the \example class.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$label</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name static-context">attribute_helper</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">one_from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name static-context">example</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;some_child&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name static-context">label</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?-&gt;</span><span class="token function" style="color:#d73a49">newInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Get an instance of a label on a constant, property, or method of an instance of the \example class.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$example</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">example</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$label</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name static-context">attribute_helper</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">one_from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$example</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;some_child&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name static-context">label</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?-&gt;</span><span class="token function" style="color:#d73a49">newInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Other variations of the above are also possible.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hooks">Hooks<a href="#hooks" class="hash-link" aria-label="Direct link to Hooks" title="Direct link to Hooks">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hook-interfaces">Hook interfaces<a href="#hook-interfaces" class="hash-link" aria-label="Direct link to Hook interfaces" title="Direct link to Hook interfaces">​</a></h4>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-81011" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>Attribute-based alternatives to the <code>\core\hook\described_hook</code>, and <code>\core\hook\deprecated_callback_replacement</code> interfaces are now supported.</p>
<ul>
<li>the <code>\core\attribute\label</code> attribute can be used to add a string-based description of the hook.</li>
<li>the <code>\core\attribute\tags</code> attribute can be used to add one or more tags to describe the hook.</li>
<li>the <code>\core\attribute\hook\replaces_callbacks</code> attribute can be used to add one or more replaced callbacks.</li>
</ul>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token delimiter important">&lt;?php</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">namespace</span><span class="token plain"> </span><span class="token package">core</span><span class="token package punctuation" style="color:#393A34">\</span><span class="token package">hook</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token package">core</span><span class="token package punctuation" style="color:#393A34">\</span><span class="token package">attribute</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute delimiter punctuation" style="color:#393A34">#[</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">attribute</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified punctuation" style="color:#393A34">\</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">label</span><span class="token attribute attribute-content punctuation" style="color:#393A34">(</span><span class="token attribute attribute-content string single-quoted-string" style="color:#e3116c">&#x27;This is a description of the hook&#x27;</span><span class="token attribute attribute-content punctuation" style="color:#393A34">)</span><span class="token attribute delimiter punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute delimiter punctuation" style="color:#393A34">#[</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">attribute</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified punctuation" style="color:#393A34">\</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">tags</span><span class="token attribute attribute-content punctuation" style="color:#393A34">(</span><span class="token attribute attribute-content string single-quoted-string" style="color:#e3116c">&#x27;examples&#x27;</span><span class="token attribute attribute-content punctuation" style="color:#393A34">,</span><span class="token attribute attribute-content"> </span><span class="token attribute attribute-content string single-quoted-string" style="color:#e3116c">&#x27;navigation&#x27;</span><span class="token attribute attribute-content punctuation" style="color:#393A34">,</span><span class="token attribute attribute-content"> </span><span class="token attribute attribute-content string single-quoted-string" style="color:#e3116c">&#x27;authentication&#x27;</span><span class="token attribute attribute-content punctuation" style="color:#393A34">)</span><span class="token attribute delimiter punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute delimiter punctuation" style="color:#393A34">#[</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">attribute</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified punctuation" style="color:#393A34">\</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">hook</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified punctuation" style="color:#393A34">\</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">replaces_callbacks</span><span class="token attribute attribute-content punctuation" style="color:#393A34">(</span><span class="token attribute attribute-content string single-quoted-string" style="color:#e3116c">&#x27;an_old_callback_that_is_replaced_here&#x27;</span><span class="token attribute attribute-content punctuation" style="color:#393A34">)</span><span class="token attribute delimiter punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name-definition class-name">before_navigation_render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">__construct</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">readonly</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified type-declaration punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified type-declaration">navigation_node</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$navigation</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>It is still possible to use the <code>\core\hook\described_hook</code> and <code>\core\hook\deprecated_callback_replacement</code> interfaces. The attribute approach is provided as a more light-weight alternative.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="callable-notation">Callable notation<a href="#callable-notation" class="hash-link" aria-label="Direct link to Callable notation" title="Direct link to Callable notation">​</a></h4>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-81180" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>When specifying the callback for a hook, you can now do so using the callable array notation, for example:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Array notation</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">String notation</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Alternate string notation (discouraged)</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$callbacks</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;hook&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;test_plugin\\hook\\hook&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Array notation:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;callback&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">test_plugin</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">callbacks</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;test1&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$callbacks</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;hook&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;test_plugin\\hook\\hook&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// String notation:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;callback&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">test_plugin</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">callbacks</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">.</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;::test1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$callbacks</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;hook&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;test_plugin\\hook\\hook&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Strongly discouraged:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;callback&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;\\test_plugin\\callbacks::test1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Callbacks in earlier versions of Moodle</div><div class="admonitionContent_BuS1"><p>If writing a callback for Moodle 4.3, you <strong>must</strong> use the string notation.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="string-formatting">String formatting<a href="#string-formatting" class="hash-link" aria-label="Direct link to String formatting" title="Direct link to String formatting">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deprecation-of-format_-parameters">Deprecation of format_* parameters<a href="#deprecation-of-format_-parameters" class="hash-link" aria-label="Direct link to Deprecation of format_* parameters" title="Direct link to Deprecation of format_* parameters">​</a></h4>
<p>A number of legacy features and ways of calling <code>format_text</code>, and <code>format_string</code> now emit deprecation notices. These were all deprecated a long time ago but did not emit:</p>
<ul>
<li>Changes to <code>format_string</code>:<!-- -->
<ul>
<li>The <code>$options</code> array <em>must not</em> be a <code>\context</code> or <code>\core\context</code> object. This was never supported and behaviour was previously undetected</li>
<li>Unknown values passed to the <code>$options</code> parameter will now emit appropriate debugging notices</li>
</ul>
</li>
<li>Changes to <code>format_text</code>:<!-- -->
<ul>
<li>The fourth parameter, <code>$courseiddonotuse</code> now emits a deprecation notice if provided. This was deprecated for Moodle 2.0 in <a href="https://tracker.moodle.org/browse/MDL-22001" target="_blank" rel="noopener noreferrer">MDL-22001</a></li>
<li>The <code>smiley</code> option now emits a deprecation notice. This was deprecated for Moodle 2.0.</li>
<li>The <code>nocache</code> option now emits a deprecation notice. This was deprecated for Moodle 2.3 in <a href="https://tracker.moodle.org/browse/MDL-34347" target="_blank" rel="noopener noreferrer">MDL-34347</a></li>
<li>The use of <code>FORMAT_WIKI</code> as a source format now throws an exception. Previously it added debugging information to the rendered content. This was deprecated in Moodle 1.5.</li>
<li>Unknown values passed to the <code>$options</code> parameter will now emit appropriate debugging notices</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-coreformatting-class">New \core\formatting class<a href="#new-coreformatting-class" class="hash-link" aria-label="Direct link to New \core\formatting class" title="Direct link to New \core\formatting class">​</a></h4>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-80072" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>A new <code>\core\formatting</code> class has been introduced with new <code>format_string()</code>, and <code>format_text()</code> methods.</p>
<p>These methods no longer user the <code>array $options</code> style configuration, instead expanding options into method parameters.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The existing <code>\format_string()</code>, and <code>\format_text()</code> methods remain in place, and are <em>not currently deprecated</em>. At this time <em>you do</em> not need to migrate to the APIs.</p></div></div>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">New \core\formatting methods</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">namespace</span><span class="token plain"> </span><span class="token package">core</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name-definition class-name">formatting</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">format_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">?</span><span class="token keyword type-hint" style="color:#00009f">string</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword type-hint" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$striplinks</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">?</span><span class="token class-name type-declaration">context</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$context</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword type-hint" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$filter</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword type-hint" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$escape</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword return-type" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">format_text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">?</span><span class="token keyword type-hint" style="color:#00009f">string</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword type-hint" style="color:#00009f">string</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$format</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">FORMAT_MOODLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">?</span><span class="token class-name type-declaration">context</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$context</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword type-hint" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$trusted</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">?</span><span class="token keyword type-hint" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$clean</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword type-hint" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$filter</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword type-hint" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$para</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword type-hint" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$newlines</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword type-hint" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$overflowdiv</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword type-hint" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$blanktarget</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword type-hint" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$allowid</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword return-type" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If choosing to use these new methods you <strong>must</strong> use Dependency Injection either via injection into the class, or via the <code>\core\di</code> container. You <strong>must not</strong> instantiate the <code>\core\formatting</code> class directly.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Usage via Dependency Injection</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Usage via the \core\di container</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Usage in an injected class</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">namespace</span><span class="token plain"> </span><span class="token package">core</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name-definition class-name">example</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">__construct</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">protected</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">readonly</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified type-declaration punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified type-declaration">core</span><span class="token class-name class-name-fully-qualified type-declaration punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified type-declaration">formatting</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$formatter</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">do_something</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword type-hint" style="color:#00009f">string</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$input</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword return-type" style="color:#00009f">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$this</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token property" style="color:#36acaa">formatter</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">format_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$input</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Usage via the \core\di container</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$formatter</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">di</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">formatting</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$formatter</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">format_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$input</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Named Parameters</div><div class="admonitionContent_BuS1"><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Recommended usage</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Alternative approach</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>It is <em>strongly recommended</em> that you make use of named parameters for all but the first argument when calling them, rather than using positional arguments.</p><div class="alert alert--success margin-bottom--lg code-example_hC7r"><span class="badge badge--success margin-bottom--sm">Named arguments</span><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$formatter</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">di</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">formatting</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$formatter</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">format_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string double-quoted-string" style="color:#e3116c">&quot;The content to be formatted&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token argument-name">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">context</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">course</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$courseid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token argument-name">filter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$formatter</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">format_text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string double-quoted-string" style="color:#e3116c">&quot;The content to be formatted&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token argument-name">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">context</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">course</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$courseid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token argument-name">filter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token argument-name">blanktarget</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The use of positional arguments to the format methods is strongly discouraged.</p><div class="alert alert--danger margin-bottom--lg code-example_hC7r"><span class="badge badge--danger margin-bottom--sm">Positional arguments</span><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$formatter</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">di</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">formatting</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$formatter</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">format_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string double-quoted-string" style="color:#e3116c">&quot;The content to be formatted&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">context</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">course</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$courseid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$formatter</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">format_text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string double-quoted-string" style="color:#e3116c">&quot;The content to be formatted&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">FORMAT_MOODLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">context</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">course</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$courseid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tasks-api">Tasks API<a href="#tasks-api" class="hash-link" aria-label="Direct link to Tasks API" title="Direct link to Tasks API">​</a></h3>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-67667" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>Support for tasks which block all other tasks has been removed. The ability to configure a task as blocking is no longer supported and will not work.</p>
<p>This functionality had the ability to cause significant performance issues, and contained a number of serious bugs.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>If you are using this functionality in older versions of Moodle you are advised to move away from it as soon as possible in all Moodle versions.</p></div></div>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-79128" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>The behaviour of the task runner has been changed to limit the number of retries allowed before a failing <em>adhoc</em> task is removed. Scheduled tasks are not affected.</p>
<p>The default value for the maximum retry limit on an Ad-hoc task is <strong>12</strong>.</p>
<p>Retries can be entirely disabled by passing a value of <code>0</code>, for example:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$task</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">example_task</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// This task wil not be retried at all.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$task</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">set_attempts_available</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">task</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">manager</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">queue_task</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$task</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>See the <a href="/moodledevdocs/docs/4.4/apis/subsystems/task/adhoc#retrying-failing-tasks">detailed documentation</a> on how to use these new APIs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="javascript">JavaScript<a href="#javascript" class="hash-link" aria-label="Direct link to JavaScript" title="Direct link to JavaScript">​</a></h3>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-80850" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>A new JS module, <code>core/dropzone</code>, has been introduced to provide a standardised way to create a Drop-zone in Moodle. Read the <a href="/moodledevdocs/docs/4.4/guides/javascript#dropzone">full documentation</a> for information on how to use it.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-change">API Change<a href="#api-change" class="hash-link" aria-label="Direct link to API Change" title="Direct link to API Change">​</a></h3>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-80005" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>Parameter constants, and the cleaning of values using these parameters, has been moved to a new enum in <code>\core\param</code>.</p>
<p>The enum contains relevant associated methods for fetching, validating, and cleaning the content of values, for example:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Examples of enum-based parameters</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Clean an existing variable.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">param</span><span class="token operator" style="color:#393A34">::</span><span class="token constant" style="color:#36acaa">ALPHANUMEXT</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">clean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">param</span><span class="token operator" style="color:#393A34">::</span><span class="token constant" style="color:#36acaa">ALPHANUMEXT</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">validate_param</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">param</span><span class="token operator" style="color:#393A34">::</span><span class="token constant" style="color:#36acaa">ALPHANUMEXT</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">clean_param_array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Require a param (replaced required_param).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">param</span><span class="token operator" style="color:#393A34">::</span><span class="token constant" style="color:#36acaa">ALPHANUMEXT</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">required_param</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;someparamname&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">param</span><span class="token operator" style="color:#393A34">::</span><span class="token constant" style="color:#36acaa">ALPHANUMEXT</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">optional_param</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;someparamname&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;defaultvalue&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">param</span><span class="token operator" style="color:#393A34">::</span><span class="token constant" style="color:#36acaa">ALPHANUMEXT</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">required_param_array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;someparamname&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">param</span><span class="token operator" style="color:#393A34">::</span><span class="token constant" style="color:#36acaa">ALPHANUMEXT</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">optional_param_array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;someparamname&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The existing <code>PARAM_*</code> constants, and related methods (<code>required_param</code>, <code>optional_param()</code>, <code>clean_param()</code>, and so on) remain in place, and are <em>not currently deprecated</em>. At this time <em>you do</em> not need to migrate to the APIs.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deprecations">Deprecations<a href="#deprecations" class="hash-link" aria-label="Direct link to Deprecations" title="Direct link to Deprecations">​</a></h3>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-80005" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>A number of deprecated parameter types have been deprecated, these include:</p>
<ul>
<li><code>PARAM_CLEAN</code></li>
<li><code>PARAM_INTEGER</code></li>
<li><code>PARAM_NUMBER</code></li>
<li><code>PARAM_ACTION</code></li>
<li><code>PARAM_FORMAT</code></li>
<li><code>PARAM_MULTILANG</code></li>
<li><code>PARAM_CLEANFILE</code></li>
</ul>
<p>These param types have all been deprecated since Moodle 2.0.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-of-deprecated-attribute">Introduction of <code>deprecated</code> attribute<a href="#introduction-of-deprecated-attribute" class="hash-link" aria-label="Direct link to introduction-of-deprecated-attribute" title="Direct link to introduction-of-deprecated-attribute">​</a></h2>
<p>A new <code>\core\attribute\deprecated</code> attribute, and related <code>\core\deprecation</code> class have been introduced to provide a standardised way to emit deprecation notices.</p>
<p>The attribute can be applied to:</p>
<ul>
<li>classes, traits, interfaces, and enums</li>
<li>enum cases</li>
<li>global functions</li>
<li>class constants, properties, and methods</li>
</ul>
<p>The attribute can be used to specify information including:</p>
<ul>
<li>the version that a feature was deprecated</li>
<li>the relevant MDL</li>
<li>the reason for deprecation</li>
<li>any replacement</li>
<li>whether the deprecation is final</li>
</ul>
<p>The <code>\core\deprecation</code> class contains helper methods to inspect for use of the deprecated attribute and allows usage including:</p>
<ul>
<li>checking if a feature is deprecated</li>
<li>emitting a deprecation notice if a feature is deprecated</li>
</ul>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Examples of usage</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// A method which has been initially deprecated and should show debugging.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/** @deprecated since 4.3 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute delimiter punctuation" style="color:#393A34">#[</span><span class="token attribute attribute-content">\</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">core</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified punctuation" style="color:#393A34">\</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">attribute</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified punctuation" style="color:#393A34">\</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">deprecated</span><span class="token attribute attribute-content punctuation" style="color:#393A34">(</span><span class="token attribute attribute-content attribute-class-name class-name">replacement</span><span class="token attribute attribute-content punctuation" style="color:#393A34">:</span><span class="token attribute attribute-content"> </span><span class="token attribute attribute-content string single-quoted-string" style="color:#e3116c">&#x27;random_bytes&#x27;</span><span class="token attribute attribute-content punctuation" style="color:#393A34">,</span><span class="token attribute attribute-content"> </span><span class="token attribute attribute-content attribute-class-name class-name">since</span><span class="token attribute attribute-content punctuation" style="color:#393A34">:</span><span class="token attribute attribute-content"> </span><span class="token attribute attribute-content string single-quoted-string" style="color:#e3116c">&#x27;4.3&#x27;</span><span class="token attribute attribute-content punctuation" style="color:#393A34">)</span><span class="token attribute delimiter punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">random_bytes_emulate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">deprecation</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">emit_deprecation_if_present</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">__FUNCTION__</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">random_bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// A method which has been finally deprecated and should throw an exception.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/** @deprecated since 2.7 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute delimiter punctuation" style="color:#393A34">#[</span><span class="token attribute attribute-content">\</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">core</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified punctuation" style="color:#393A34">\</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">attribute</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified punctuation" style="color:#393A34">\</span><span class="token attribute attribute-content attribute-class-name class-name class-name-fully-qualified">deprecated</span><span class="token attribute attribute-content punctuation" style="color:#393A34">(</span><span class="token attribute attribute-content attribute-class-name class-name">replacement</span><span class="token attribute attribute-content punctuation" style="color:#393A34">:</span><span class="token attribute attribute-content"> </span><span class="token attribute attribute-content string single-quoted-string" style="color:#e3116c">&#x27;Events API&#x27;</span><span class="token attribute attribute-content punctuation" style="color:#393A34">,</span><span class="token attribute attribute-content"> </span><span class="token attribute attribute-content attribute-class-name class-name">since</span><span class="token attribute attribute-content punctuation" style="color:#393A34">:</span><span class="token attribute attribute-content"> </span><span class="token attribute attribute-content string single-quoted-string" style="color:#e3116c">&#x27;2.3&#x27;</span><span class="token attribute attribute-content punctuation" style="color:#393A34">,</span><span class="token attribute attribute-content"> </span><span class="token attribute attribute-content attribute-class-name class-name">final</span><span class="token attribute attribute-content punctuation" style="color:#393A34">:</span><span class="token attribute attribute-content"> </span><span class="token attribute attribute-content attribute-class-name class-name">true</span><span class="token attribute attribute-content punctuation" style="color:#393A34">)</span><span class="token attribute delimiter punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">add_to_log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">deprecation</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">emit_deprecation_if_present</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">__FUNCTION__</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Checking when an enum case is deprecated:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">deprecation</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">is_deprecated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">param</span><span class="token operator" style="color:#393A34">::</span><span class="token constant" style="color:#36acaa">RAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Returns false.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">deprecation</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">is_deprecated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">param</span><span class="token operator" style="color:#393A34">::</span><span class="token constant" style="color:#36acaa">INTEGER</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Returns true.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Checking if a class is deprecated:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">deprecation</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">is_deprecated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">task</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">manager</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Returns false.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Checking if an instantiated class is deprecated:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">deprecation</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">is_deprecated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified">moodle_url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;/example/&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Checking if a class method is deprecated:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">deprecation</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">is_deprecated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">moodle_url</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;out&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">core</span><span class="token class-name class-name-fully-qualified static-context punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified static-context">deprecation</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">is_deprecated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name class-name-fully-qualified punctuation" style="color:#393A34">\</span><span class="token class-name class-name-fully-qualified">moodle_url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;/example/&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;out&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This functionality is intended to simplify deprecation of features such as constants, enums, and related items which are called from centralised APIs and difficult to detect as deprecated.</p>
<p>This functionality does not replace the phpdoc <code>@deprecated</code> docblock.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clock-interface">Clock interface<a href="#clock-interface" class="hash-link" aria-label="Direct link to Clock interface" title="Direct link to Clock interface">​</a></h3>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-80838" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>Moodle now supports use of a PSR-20 compliant Clock Interface, accessed via Dependency Injection.</p>
<p>See the <a href="/moodledevdocs/docs/4.4/apis/core/clock">detailed documentation</a> on how to use this new interface.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="enrolment">Enrolment<a href="#enrolment" class="hash-link" aria-label="Direct link to Enrolment" title="Direct link to Enrolment">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="meta-enrolment-support-in-csv-course-upload">Meta enrolment support in CSV course upload<a href="#meta-enrolment-support-in-csv-course-upload" class="hash-link" aria-label="Direct link to Meta enrolment support in CSV course upload" title="Direct link to Meta enrolment support in CSV course upload">​</a></h3>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-73852" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>It is now possible to use meta enrolment when uploading courses using CSV file. Here is an example of CSV file that can be used to upload a course with meta enrolment:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Example of CSV for meta enrolment</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">shortname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">fullname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">category_idnumber</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">enrolment_1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">enrolment_1_metacoursename</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">course1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Course </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token constant" style="color:#36acaa">CAT1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">meta</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">course2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="support-for-multiple-instances-in-csv-course-upload">Support for multiple instances in csv course upload<a href="#support-for-multiple-instances-in-csv-course-upload" class="hash-link" aria-label="Direct link to Support for multiple instances in csv course upload" title="Direct link to Support for multiple instances in csv course upload">​</a></h3>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-43820" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>It is now possible to upload a CSV file with multiple enrol instances of the same type in same course. This is useful for example when you want to enrol users in a course using two different cohorts.</p>
<p>To support this, a new method has been added to allow the UI to locate existing enrolment instances:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * Finds matching instances for a given course.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @param array $enrolmentdata enrolment data.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @param int $courseid Course ID.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @return stdClass|null Matching instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">find_instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword type-hint" style="color:#00009f">array</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$enrolmentdata</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword type-hint" style="color:#00009f">int</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$courseid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token class-name return-type">stdClass</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If your enrolment plugins supports multiple instances within the same course, you should implement <a href="/moodledevdocs/docs/4.4/apis/plugintypes/enrol#enrol_pluginfind_instance-stdclass">this method</a>.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Format of the CSV file</summary><div><div class="collapsibleContent_i85q"><p>Each line of the CSV should only have data for <em>one</em> enrolment instance.</p><div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">best-example.csv</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">shortname,fullname,category_idnumber,enrolment_1,enrolment_1_role,enrolment_1_cohortidnumber</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C1,Course 1,CAT1,cohort,student,CV1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C1,Course 1,CAT1,cohort,teacher,CV4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>If a single line format is used, only the <em>final</em> enrolment instance will be updated. For example in the following example only the second enrolment instance will be updated:</p><div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">not-recommended-example.csv</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">shortname,fullname,category,summary,enrolment_1,enrolment_1_role,enrolment_2,enrolment_2_role</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shortname,fullname,category,summary,cohort,student,cohort,teacher</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="refactoring-bs4-features-dropped-in-bs5">Refactoring BS4 features dropped in BS5<a href="#refactoring-bs4-features-dropped-in-bs5" class="hash-link" aria-label="Direct link to Refactoring BS4 features dropped in BS5" title="Direct link to Refactoring BS4 features dropped in BS5">​</a></h2>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-71979" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>Some of the Bootstrap 4 classes will be deprecated or dropped in its version 5. To prepare for this, some of the current Bootstrap 4 classes usages have been replaced with version 5 compatible classes. This will help us to upgrade to Bootstrap 5 in the future.</p>
<p>See more information in <a href="/moodledevdocs/docs/4.4/guides/bs5migration">Bootstrap 5 migration</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-course-section-page">New course section page<a href="#new-course-section-page" class="hash-link" aria-label="Direct link to New course section page" title="Direct link to New course section page">​</a></h2>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-79986" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>The new course/section.php page is designed exclusively for displaying individual section content. It only requires <code>sectionid</code>, eliminating the need for the legacy <code>sectionnumber</code>.</p>
<p>Enhancements to this page:</p>
<ul>
<li>The General section will no longer appear above the selected section, ensuring a focused display of content for the specified section id.</li>
<li>Regardless of the Course layout (&quot;All sections on one page&quot; vs &quot;One section per page&quot;), all section names in the main course page content will now link to the new page (excluding editing mode).</li>
<li>The <code>$CFG-&gt;linkcoursesections</code> setting has been entirely removed. Initially used for the Classic theme to empower admins in deciding whether section names in the Navigation block should be linked, this setting is now obsolete. With the introduction of the course/section.php page, dedicated to displaying content for any single section, and a convenient link from the main course page, users can seamlessly focus on section content without the need for this setting.</li>
<li>The methods <code>core_courseformat\base::set_section_number()</code> and <code>core_courseformat\base::get_section_number()</code> have been deprecated and replaced by <code>core_courseformat\base::set_sectionnum()</code> and <code>core_courseformat\base::get_sectionnum()</code>. The new methods use the null value when all the sections must be displayed (instead of 0). That way, section 0 (General), can be displayed on a single page too.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-icons">Activity icons<a href="#activity-icons" class="hash-link" aria-label="Direct link to Activity icons" title="Direct link to Activity icons">​</a></h2>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-78284" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-designs">New designs<a href="#new-designs" class="hash-link" aria-label="Direct link to New designs" title="Direct link to New designs">​</a></h3>
<p>The activity icons have been updated to prioritize readability and transform the existing filled square shapes with white icons into outlined colored icons against a transparent background. This modification ensures that the icons are not only more accessible but also easily distinguishable for users.
When upgrading the SVG files, the .png files have been removed.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Considerations for creating/updating SVG icons</div><div class="admonitionContent_BuS1"><ul>
<li>Please make sure that the icons are filled with <code>#212529</code> and that the background is transparent.</li>
<li>The icons should be 24x24px. It&#x27;s recommended to define width and height into the SVG files to guarantee that the icons are displayed correctly.</li>
</ul></div></div>
<p><img decoding="async" loading="lazy" alt="New activity icons" src="/moodledevdocs/assets/images/activity-icons-d6ebc5a5be4e1ed6641e13a561f15aa9.png" width="1440" height="1024" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="activity-purposes">Activity purposes<a href="#activity-purposes" class="hash-link" aria-label="Direct link to Activity purposes" title="Direct link to Activity purposes">​</a></h3>
<p>Since Moodle 4.0, in places like the course page and the activity chooser icons have a more prominent role which is defined using the <code>FEATURE_MOD_PURPOSE</code> feature flag.</p>
<p>The available activity purposes for this feature are:</p>
<ul>
<li>Administration (<code>MOD_PURPOSE_ADMINISTRATION</code>)</li>
<li>Assessment (<code>MOD_PURPOSE_ASSESSMENT</code>)</li>
<li>Collaboration (<code>MOD_PURPOSE_COLLABORATION</code>)</li>
<li>Communication (<code>MOD_PURPOSE_COMMUNICATION</code>)</li>
<li>Interactive content (<code>MOD_PURPOSE_INTERACTIVECONTENT</code>)</li>
<li>Resource (<code>MOD_PURPOSE_CONTENT</code>)</li>
<li>Other (<code>MOD_PURPOSE_OTHER</code>)</li>
</ul>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Changes in purposes for Moodle 4.4</div><div class="admonitionContent_BuS1"><ul>
<li><code>MOD_PURPOSE_INTERFACE</code> has been deprecated, so it&#x27;s not recommended to use it.</li>
<li><code>MOD_PURPOSE_INTERACTIVECONTENT</code> has been added. In core, it&#x27;s used for activities like H5P, Lesson, SCORM and IMS package.</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="branded-icons">Branded icons<a href="#branded-icons" class="hash-link" aria-label="Direct link to Branded icons" title="Direct link to Branded icons">​</a></h3>
<p>A new callback, <code>&lt;modname&gt;_is_branded()</code> has been added to the modules. Branded icons are displayed with their original colours and they are not affected by the activity purpose colours. By default, none of the modules are branded.</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * Whether the activity is branded.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * This information is used, for instance, to decide if a filter should be applied to the icon or not.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @return bool True if the activity is branded, false otherwise.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">h5pactivity_is_branded</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword return-type" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token constant boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="phpunit-96-update">PHPUnit 9.6 update<a href="#phpunit-96-update" class="hash-link" aria-label="Direct link to PHPUnit 9.6 update" title="Direct link to PHPUnit 9.6 update">​</a></h2>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-81266" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="intention">Intention<a href="#intention" class="hash-link" aria-label="Direct link to Intention" title="Direct link to Intention">​</a></h3>
<p>The main goal of this minor update, from <strong>PHPUnit 9.5 to 9.6</strong>, is to start informing to developers in advance about the functionality that has been deprecated in the 9.x series and will be removed completely with the next PHPUnit 10.x update.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deprecated-stuff">Deprecated stuff<a href="#deprecated-stuff" class="hash-link" aria-label="Direct link to Deprecated stuff" title="Direct link to Deprecated stuff">​</a></h3>
<p>Here you can find all the functionality that has been deprecated in PHPUnit 9.x and needs to be fixed, converted or removed in order to allow the tests to continue working once Moodle gets upgraded to PHPUnit 10.x:</p>
<ul>
<li>A number of attribute-related assertions have been deprecated, will be removed with PHPUnit 10. Alternatives for <em>some</em> of them are available (Ref. <a href="https://tracker.moodle.org/browse/MDL-81281" target="_blank" rel="noopener noreferrer">MDL-81281</a>):<!-- -->
<ul>
<li><code>assertClassHasAttribute()</code></li>
<li><code>assertClassNotHasAttribute()</code></li>
<li><code>assertClassHasStaticAttribute()</code></li>
<li><code>assertClassNotHasStaticAttribute()</code></li>
<li><code>assertObjectHasAttribute()</code>        =&gt; <code>assertObjectHasProperty()</code></li>
<li><code>assertObjectNotHasAttribute()</code>      =&gt; <code>assertObjectNotHasProperty()</code></li>
</ul>
</li>
<li>A number of deprecation, notice, warning and error expectations have been deprecated, will be removed with PHPUnit 10. No alternative exists. A working replacement is available in the linked issue, hopefully there aren&#x27;t many cases (Ref. <a href="https://tracker.moodle.org/browse/MDL-81266" target="_blank" rel="noopener noreferrer">MDL-81266</a>):<!-- -->
<ul>
<li><code>expectDeprecation()</code></li>
<li><code>expectDeprecationMessage()</code></li>
<li><code>expectDeprecationMessageMatches()</code></li>
<li><code>expectError()</code></li>
<li><code>expectErrorMessage()</code></li>
<li><code>expectErrorMessageMatches()</code></li>
<li><code>expectNotice()</code></li>
<li><code>expectNoticeMessage()</code></li>
<li><code>expectNoticeMessageMatches()</code></li>
<li><code>expectWarning()</code></li>
<li><code>expectWarningMessage()</code></li>
<li><code>expectWarningMessageMatches()</code></li>
</ul>
</li>
<li>The <code>-&gt;withConsecutive()</code> functionality on PHPUnit mocks has been <strong>silently</strong> deprecated, will be removed with PHPUnit 10. Note that this won&#x27;t affect PHPUnit 9.6 runs and an alternative path will be proposed in the linked issue, part of the PHPUnit 10 epic (Ref. <a href="https://tracker.moodle.org/browse/MDL-81308" target="_blank" rel="noopener noreferrer">MDL-81308</a>).</li>
<li><code>PHPUnit\Framework\TestCase::getMockClass()</code> has been deprecated, will be removed with PHPUnit 10. No clear alternative exists and won&#x27;t be investigated, because there aren&#x27;t cases in core.</li>
<li>Cannot use the <code>Test</code> suffix on abstract test case classes anymore. Proceed to rename them to end with <code>TestCase</code> instead.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="developer-metadata">Developer metadata<a href="#developer-metadata" class="hash-link" aria-label="Direct link to Developer metadata" title="Direct link to Developer metadata">​</a></h2>
<style data-emotion="css av3g5w">.css-av3g5w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-av3g5w>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-av3g5w"><a href="https://tracker.moodle.org/browse/MDL-81084" target="_blank" rel="noopener noreferrer"><style data-emotion="css imuw0l">.css-imuw0l{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-imuw0l.Mui-disabled{opacity:0.38;pointer-events:none;}.css-imuw0l .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-imuw0l .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-imuw0l .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-imuw0l .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-imuw0l .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-imuw0l .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-imuw0l .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-imuw0l .MuiChip-deleteIcon:hover,.css-imuw0l .MuiChip-deleteIcon:active{color:#fff;}.css-imuw0l:hover{background-color:rgba(0, 0, 0, 0.12);}.css-imuw0l.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-imuw0l:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-imuw0l:hover,.css-imuw0l.Mui-focusVisible{background-color:#1b5e20;}</style><style data-emotion="css 19t1dzk">.css-19t1dzk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:#fff;background-color:#2e7d32;border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;cursor:pointer;}.css-19t1dzk::-moz-focus-inner{border-style:none;}.css-19t1dzk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-19t1dzk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-19t1dzk.Mui-disabled{opacity:0.38;pointer-events:none;}.css-19t1dzk .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-19t1dzk .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-19t1dzk .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-19t1dzk .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-19t1dzk .MuiChip-icon{margin-left:5px;margin-right:-6px;color:inherit;}.css-19t1dzk .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(255, 255, 255, 0.7);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-19t1dzk .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-19t1dzk .MuiChip-deleteIcon:hover,.css-19t1dzk .MuiChip-deleteIcon:active{color:#fff;}.css-19t1dzk:hover{background-color:rgba(0, 0, 0, 0.12);}.css-19t1dzk.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.2);}.css-19t1dzk:active{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);}.css-19t1dzk:hover,.css-19t1dzk.Mui-focusVisible{background-color:#1b5e20;}</style><div class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorSuccess MuiChip-clickable MuiChip-clickableColorSuccess MuiChip-filledSuccess css-19t1dzk" tabindex="0" role="button"><style data-emotion="css 9iedg7">.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelMedium css-9iedg7"><span>Since<!-- --> <!-- -->4.4</span></span></div></a></div>
<p>The list of plugins which are shipped with Moodle core is now available in a JSON format and located at <code>/lib/plugins.json</code>.</p>
<p>The schema for this format can be found at <code>/lib/plugins.schema.json</code>.</p>
<p>See <a href="/moodledevdocs/general/development/tools/metadata">Developer metadata</a> for more information on available metadata.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="previous-versions">Previous versions<a href="#previous-versions" class="hash-link" aria-label="Direct link to Previous versions" title="Direct link to Previous versions">​</a></h2>
<ul>
<li><a href="/moodledevdocs/docs/4.3/devupdate">Moodle 4.3 developer update</a></li>
<li><a href="/moodledevdocs/docs/4.2/devupdate">Moodle 4.2 developer update</a></li>
<li><a href="/moodledevdocs/docs/4.1/devupdate">Moodle 4.1&amp;4.0 developer update</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/moodledevdocs/docs/4.4/tags/core-development">Core development</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/moodledevdocs/docs/4.4/tags/moodle-4-4">Moodle 4.4</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/moodle/devdocs/edit/main/docs/devupdate.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-04-22T15:33:54.000Z" itemprop="dateModified">22 Apr 2024</time></b> by <b>Andrew Lyons</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/moodledevdocs/docs/4.4/apis/subsystems/xapi"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">xAPI (Experience API)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#core-changes" class="table-of-contents__link toc-highlight">Core changes</a><ul><li><a href="#dependency-injection" class="table-of-contents__link toc-highlight">Dependency Injection</a></li><li><a href="#attributes" class="table-of-contents__link toc-highlight">Attributes</a></li><li><a href="#hooks" class="table-of-contents__link toc-highlight">Hooks</a></li><li><a href="#string-formatting" class="table-of-contents__link toc-highlight">String formatting</a></li><li><a href="#tasks-api" class="table-of-contents__link toc-highlight">Tasks API</a></li><li><a href="#javascript" class="table-of-contents__link toc-highlight">JavaScript</a></li></ul></li><li><a href="#parameters" class="table-of-contents__link toc-highlight">Parameters</a><ul><li><a href="#api-change" class="table-of-contents__link toc-highlight">API Change</a></li><li><a href="#deprecations" class="table-of-contents__link toc-highlight">Deprecations</a></li></ul></li><li><a href="#introduction-of-deprecated-attribute" class="table-of-contents__link toc-highlight">Introduction of <code>deprecated</code> attribute</a><ul><li><a href="#clock-interface" class="table-of-contents__link toc-highlight">Clock interface</a></li></ul></li><li><a href="#enrolment" class="table-of-contents__link toc-highlight">Enrolment</a><ul><li><a href="#meta-enrolment-support-in-csv-course-upload" class="table-of-contents__link toc-highlight">Meta enrolment support in CSV course upload</a></li><li><a href="#support-for-multiple-instances-in-csv-course-upload" class="table-of-contents__link toc-highlight">Support for multiple instances in csv course upload</a></li></ul></li><li><a href="#refactoring-bs4-features-dropped-in-bs5" class="table-of-contents__link toc-highlight">Refactoring BS4 features dropped in BS5</a></li><li><a href="#new-course-section-page" class="table-of-contents__link toc-highlight">New course section page</a></li><li><a href="#activity-icons" class="table-of-contents__link toc-highlight">Activity icons</a><ul><li><a href="#new-designs" class="table-of-contents__link toc-highlight">New designs</a></li><li><a href="#activity-purposes" class="table-of-contents__link toc-highlight">Activity purposes</a></li><li><a href="#branded-icons" class="table-of-contents__link toc-highlight">Branded icons</a></li></ul></li><li><a href="#phpunit-96-update" class="table-of-contents__link toc-highlight">PHPUnit 9.6 update</a><ul><li><a href="#intention" class="table-of-contents__link toc-highlight">Intention</a></li><li><a href="#deprecated-stuff" class="table-of-contents__link toc-highlight">Deprecated stuff</a></li></ul></li><li><a href="#developer-metadata" class="table-of-contents__link toc-highlight">Developer metadata</a></li><li><a href="#previous-versions" class="table-of-contents__link toc-highlight">Previous versions</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Moodle</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/moodledevdocs/general/releases">Release notes</a></li><li class="footer__item"><a class="footer__link-item" href="/moodledevdocs/general/projects">Projects</a></li></ul></div><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/moodledevdocs/general/documentation">Developer docs</a></li><li class="footer__item"><a href="https://docs.moodle.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">User docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.moodle.org/dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legacy docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/moodledevdocs/general/documentation/code-of-conduct">Code of conduct</a></li><li class="footer__item"><a href="https://moodle.org/mod/forum/view.php?id=55" target="_blank" rel="noopener noreferrer" class="footer__link-item">General Developer Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/moodle" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/moodle" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">
                    <a href="https://www.netlify.com" target="_blank" rel="noreferrer noopener" aria-label="Deploys by Netlify">
                        <img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify" width="114" height="51">
                    </a>
                    </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
Copyright © 2024 Moodle Pty Ltd. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>