"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[75512],{85761:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var r=t(74848),n=t(28453),s=t(78924);const o={title:"Plugin with third party libraries",sidebar_position:5,sidebar_label:"Third-party libraries",tags:["Guidelines for contributors","Plugins","Plugin documentation"]},l=void 0,a={id:"community/plugincontribution/thirdpartylibraries",title:"Plugin with third party libraries",description:"This page describes the correct way to include third party libraries with your plugin.",source:"@site/general/community/plugincontribution/thirdpartylibraries.md",sourceDirName:"community/plugincontribution",slug:"/community/plugincontribution/thirdpartylibraries",permalink:"/moodledevdocs/general/community/plugincontribution/thirdpartylibraries",draft:!1,unlisted:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/general/community/plugincontribution/thirdpartylibraries.md",tags:[{label:"Guidelines for contributors",permalink:"/moodledevdocs/general/tags/guidelines-for-contributors"},{label:"Plugins",permalink:"/moodledevdocs/general/tags/plugins"},{label:"Plugin documentation",permalink:"/moodledevdocs/general/tags/plugin-documentation"}],version:"current",lastUpdatedBy:"Sara Arjona",lastUpdatedAt:169659179e4,sidebarPosition:5,frontMatter:{title:"Plugin with third party libraries",sidebar_position:5,sidebar_label:"Third-party libraries",tags:["Guidelines for contributors","Plugins","Plugin documentation"]},sidebar:"community",previous:{title:"Code prechecks",permalink:"/moodledevdocs/general/community/plugincontribution/codeprechecks"},next:{title:"Documentation",permalink:"/moodledevdocs/general/community/plugincontribution/documentation"}},d={},c=[{value:"Instructions",id:"instructions",level:2},{value:"Exceptions:",id:"exceptions",level:2},{value:"JavaScript AMD modules",id:"javascript-amd-modules",level:3},{value:"See also",id:"see-also",level:2}];function u(e){const i={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.A,{frontMatter:o,metadata:a}),"\n",(0,r.jsx)(i.p,{children:"This page describes the correct way to include third party libraries with your plugin."}),"\n",(0,r.jsxs)(i.p,{children:['A third party library refers to any library where the latest version of the code is not maintained and hosted by Moodle. An example is "Mustache.php". Following this process means that all third party libraries are correctly listed in the page ',(0,r.jsx)(i.em,{children:"Site administration > Development > Third party libraries"}),", they can be tracked and kept up to date - and we will not introduce conflicting versions of the same library in different places."]}),"\n",(0,r.jsx)(i.h2,{id:"instructions",children:"Instructions"}),"\n",(0,r.jsx)(i.p,{children:"The process for including a third party library is the same for core code as it is for a plugin - there are a number of steps to follow."}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["Check the license to make sure the library uses a GPLv3 compatible license - see the ",(0,r.jsx)(i.a,{href:"https://www.gnu.org/licenses/license-list.en.html",children:"list of compatible licenses"}),". If a library is not compatible with GPLv3 then it cannot be distributed together with the plugin in one ZIP package and hosted in the Moodle Plugins directory."]}),"\n",(0,r.jsx)(i.li,{children:"Check the library is not already shipped by core - we don't want multiple versions of the same library."}),"\n",(0,r.jsx)(i.li,{children:"Download the latest stable release of the code."}),"\n",(0,r.jsx)(i.li,{children:"Perform any build steps required to get a distributable version of the library. This will vary depending on the library - but an example is running less to generate minified css files."}),"\n",(0,r.jsx)(i.li,{children:'Put that library into a sub folder in your plugin. It is best to NOT use version numbers in the foldername ("jquery" not "jquery-1.7.3").'}),"\n",(0,r.jsxs)(i.li,{children:["Create or update the ",(0,r.jsx)(i.code,{children:"lib/thirdpartylibs.xml"})," file for your plugin, according to the format described in the ",(0,r.jsx)(i.a,{href:"/docs/4.4/apis/commonfiles#thirdpartylibsxml",children:"documentation"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:["Create a ",(0,r.jsx)(i.a,{href:"/docs/4.4/apis/commonfiles#readme_moodletxt",children:(0,r.jsx)(i.code,{children:"readme_moodle.txt"})})," file in the new third party library folder containing detailed instructions on how to complete steps 3-6 above. This should list download urls, build instructions etc."]}),"\n",(0,r.jsxs)(i.li,{children:["Note any creation, update or deletion of third party libraries in your plugins ",(0,r.jsx)(i.code,{children:"upgrade.txt"})," or ",(0,r.jsx)(i.a,{href:"/docs/4.4/apis/commonfiles#changes",children:"CHANGES"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:["Run ",(0,r.jsx)(i.code,{children:"grunt ignorefiles"})," to regenerate ignored files path"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"exceptions",children:"Exceptions:"}),"\n",(0,r.jsx)(i.h3,{id:"javascript-amd-modules",children:"JavaScript AMD modules"}),"\n",(0,r.jsx)(i.p,{children:"JavaScript AMD modules cannot exist in a sub-folder - they must exist in a single .js file in the amd/src folder for your plugin. So - the process for AMD files is the same as above, except that the license and readme_moodle.txt file contents must be added as a JavaScript comment to the top of the libraries .js file."}),"\n",(0,r.jsx)(i.h2,{id:"see-also",children:"See also"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"/moodledevdocs/general/development/tools/nodejs#grunt",children:"Grunt"})," - Information for installing and using Grunt"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}}}]);