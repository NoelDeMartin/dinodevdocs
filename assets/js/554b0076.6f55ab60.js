"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[4852],{2216:(e,o,i)=>{i.r(o),i.d(o,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>d,toc:()=>c});var n=i(74848),s=i(28453),t=i(78924);const r={title:"Insecure configuration management",sidebar_label:"Insecure configuration",sidebar_position:13,tags:["Coding guidelines","Policies","Security"]},l=void 0,d={id:"development/policies/security/insecure-config",title:"Insecure configuration management",description:"This page forms part of the Moodle security guidelines.",source:"@site/general/development/policies/security/insecure-config.md",sourceDirName:"development/policies/security",slug:"/development/policies/security/insecure-config",permalink:"/moodledevdocs/general/development/policies/security/insecure-config",draft:!1,unlisted:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/general/development/policies/security/insecure-config.md",tags:[{label:"Coding guidelines",permalink:"/moodledevdocs/general/tags/coding-guidelines"},{label:"Policies",permalink:"/moodledevdocs/general/tags/policies"},{label:"Security",permalink:"/moodledevdocs/general/tags/security"}],version:"current",lastUpdatedBy:"Andrew Nicols",lastUpdatedAt:1657612297e3,sidebarPosition:13,frontMatter:{title:"Insecure configuration management",sidebar_label:"Insecure configuration",sidebar_position:13,tags:["Coding guidelines","Policies","Security"]},sidebar:"coding",previous:{title:"Brute-forcing login",permalink:"/moodledevdocs/general/development/policies/security/bruteforcing-login"},next:{title:"Buffer overruns",permalink:"/moodledevdocs/general/development/policies/security/bufferoverruns"}},a={},c=[{value:"What is the danger?",id:"what-is-the-danger",level:2},{value:"How Moodle avoids this problem",id:"how-moodle-avoids-this-problem",level:2},{value:"What you need to do in your code",id:"what-you-need-to-do-in-your-code",level:2},{value:"What you need to do as an administrator",id:"what-you-need-to-do-as-an-administrator",level:2},{value:"See also",id:"see-also",level:2}];function h(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.A,{frontMatter:r,metadata:d}),"\n",(0,n.jsx)(o.admonition,{type:"note",children:(0,n.jsxs)(o.p,{children:["This page forms part of the ",(0,n.jsx)(o.a,{href:"../security",children:"Moodle security guidelines"}),"."]})}),"\n",(0,n.jsx)(o.h2,{id:"what-is-the-danger",children:"What is the danger?"}),"\n",(0,n.jsxs)(o.p,{children:["Evil Hacker somehow gets access to your server some time and installs some nasty code. For example, they could add some code to the login page that records every username and password entered, and sends it back to ",(0,n.jsx)(o.code,{children:"evel-hacker.com"}),"."]}),"\n",(0,n.jsx)(o.p,{children:"Unfortunately, you have no procedures in place for detecting that this is happening."}),"\n",(0,n.jsx)(o.p,{children:"Another problem is not updating to the latest Moodle release, which means that you will be running a version of Moodle with know security holes."}),"\n",(0,n.jsx)(o.h2,{id:"how-moodle-avoids-this-problem",children:"How Moodle avoids this problem"}),"\n",(0,n.jsxs)(o.p,{children:["This is not really a problem that can be solved from within Moodle code. However, any Moodle code that does install other PHP code (for example, ",(0,n.jsx)(o.code,{children:"admin/langimport.php"}),") must be written with extreme care."]}),"\n",(0,n.jsx)(o.h2,{id:"what-you-need-to-do-in-your-code",children:"What you need to do in your code"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["If you are writing code like ",(0,n.jsx)(o.code,{children:"admin/langimport.php"}),", make sure you know what you are doing."]}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"what-you-need-to-do-as-an-administrator",children:"What you need to do as an administrator"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Keep up-to-date with the latest Moodle release from whichever branch you are using.","\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"Register your Moodle site, so you get notified of security problems before the general public."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(o.li,{children:["Think about how you deploy the Moodle code to your server. For example, if you ",(0,n.jsx)(o.a,{href:"https://docs.moodle.org//en/Git_for_Administrators",children:"use git"}),", then ",(0,n.jsx)(o.code,{children:"git status"})," will tell you which files have been edited.","\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Alternatively, if you upload the Moodle code manually, delete all the old code except ",(0,n.jsx)(o.code,{children:"config.php"})," before you upload a new version."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(o.li,{children:"Be very careful who can access your servers."}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"see-also",children:"See also"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"../security",children:"Security"})}),"\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"/moodledevdocs/general/development/policies",children:"Coding"})}),"\n"]})]})}function u(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}}}]);