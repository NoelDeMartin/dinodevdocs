"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[2184],{94565:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>c});var n=s(74848),r=s(28453),d=s(78924);const l={title:"Bootstrap 5 migration",tags:["Bootstrap"]},a=void 0,t={id:"guides/bs5migration/index",title:"Bootstrap 5 migration",description:"Bootstrap 5 has evolved with new features, improvements, and changes in its latest version, and along with this some breaking changes also come, which need to be addressed in the migration process.",source:"@site/docs/guides/bs5migration/index.md",sourceDirName:"guides/bs5migration",slug:"/guides/bs5migration/",permalink:"/moodledevdocs/docs/4.4/guides/bs5migration/",draft:!1,unlisted:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/docs/guides/bs5migration/index.md",tags:[{label:"Bootstrap",permalink:"/moodledevdocs/docs/4.4/tags/bootstrap"}],version:"current",lastUpdatedBy:"Andrew Nicols",lastUpdatedAt:1713332374e3,frontMatter:{title:"Bootstrap 5 migration",tags:["Bootstrap"]},sidebar:"docs",previous:{title:"Developer guides",permalink:"/moodledevdocs/docs/4.4/guides"},next:{title:"Git for developers",permalink:"/moodledevdocs/docs/4.4/guides/git/"}},o={},c=[{value:"Refactoring BS4 features dropped in BS5",id:"refactoring-bs4-features-dropped-in-bs5",level:2},{value:"Badges",id:"badges",level:3},{value:"Media",id:"media",level:3},{value:"Mixins",id:"mixins",level:3},{value:"Forms",id:"forms",level:3},{value:"Card decks",id:"card-decks",level:3}];function h(e){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{InvalidExample:s,Since:a,ValidExample:o}=i;return s||g("InvalidExample",!0),a||g("Since",!0),o||g("ValidExample",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.A,{frontMatter:l,metadata:t}),"\n",(0,n.jsx)(i.p,{children:"Bootstrap 5 has evolved with new features, improvements, and changes in its latest version, and along with this some breaking changes also come, which need to be addressed in the migration process."}),"\n",(0,n.jsx)(i.admonition,{type:"info",children:(0,n.jsxs)(i.p,{children:["See more about Bootstrap 5 breaking changes in the ",(0,n.jsx)(i.a,{href:"https://getbootstrap.com/docs/5.0/migration/",children:"official documentation"}),"."]})}),"\n",(0,n.jsx)(i.p,{children:"To achieve a smoother process and facilitate the moment of the update, the migration has been divided into different steps:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"PopperJS upgrade"}),": This is the first step in the migration process, as Bootstrap 5 requires PopperJS version 2. This step is about upgrading the current PopperJS version to version 2. Because we still need PopperJS version 1 for Bootstrap 4 both versions will co-exist until all usages are migrated to v2."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"SCSS Deprecation process"}),": A SCSS deprecation process will be needed for the cleanup after BS5 upgrade. More details about it in ",(0,n.jsx)(i.a,{href:"/general/development/policies/deprecation/scss-deprecation",children:"SCSS deprecation"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Refactoring BS4 features dropped in BS5"}),": This step is about refactoring the current Bootstrap 4 features that will be deprecated or dropped in its version 5 and they can be replaced with current codebase."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:'Create a BS5 "bridge"'}),': Some simple breaking changes could be also addressed in advance creating a BS5 "bridge". With small additions to this "bridge", we can refactor in advance the occurrences in the codebase for some dropped features in BS5.']}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"BS5 upgrade"}),": Upgrade the current Bootstrap 4 version to version 5."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"BS4 backwards-compatibility layer"}),": Alongside the update, a new backwards-compatibility layer will also be created, and some of the Bootstrap 4 syntax will still work until the final deprecation. This will help third-party plugins to be updated in a more gradual way."]}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.strong,{children:"Final deprecation"})}),"\n"]}),"\n",(0,n.jsx)(i.admonition,{type:"note",children:(0,n.jsx)(i.p,{children:"The migration process will be done in a gradual way, and the steps will be executed in different phases. The first phase with the PopperJS upgrade, the SCSS deprecation process and the refactoring will be included in Moodle 4.4. The other steps will be ready in following releases. This documentation page will be updated accordingly with the process."})}),"\n",(0,n.jsx)(i.h2,{id:"refactoring-bs4-features-dropped-in-bs5",children:"Refactoring BS4 features dropped in BS5"}),"\n",(0,n.jsx)(a,{version:"4.4",issueNumber:"MDL-79914"}),"\n",(0,n.jsx)(i.p,{children:"Some of the Bootstrap 4 classes will be deprecated or dropped in its version 5. To prepare for this, some of the current Bootstrap 4 classes usages have been replaced with version 5 compatible classes. Doing these refactors in advance, will help us to upgrade to Bootstrap 5 in the future."}),"\n",(0,n.jsx)(i.h3,{id:"badges",children:"Badges"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Badge colour class helpers ",(0,n.jsx)(i.code,{children:".badge-*"})," have been replaced with background utilities (use ",(0,n.jsx)(i.code,{children:".bg-primary"})," instead of ",(0,n.jsx)(i.code,{children:".badge-primary"}),") combined with the corresponding text colour classes (",(0,n.jsx)(i.code,{children:".text-dark"})," or ",(0,n.jsx)(i.code,{children:".text-white"}),") to meet accessibility contrast."]}),"\n",(0,n.jsxs)(i.li,{children:["The ",(0,n.jsx)(i.code,{children:".badge-pill"})," class has been replaced with ",(0,n.jsx)(i.code,{children:".rounded-pill"})]}),"\n"]}),"\n",(0,n.jsx)(s,{title:"Don't",children:(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-html",children:'<span class="badge badge-danger badge-pill">Error badge</span>\n'})})}),"\n",(0,n.jsx)(o,{title:"Do",children:(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-html",children:'<span class="badge bg-danger text-white rounded-pill">Error badge</span>\n'})})}),"\n",(0,n.jsx)(i.h3,{id:"media",children:"Media"}),"\n",(0,n.jsxs)(i.p,{children:["The ",(0,n.jsx)(i.code,{children:".media"})," component has been replaced with utility classes."]}),"\n",(0,n.jsx)(s,{title:"Don't",children:(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-html",children:'<div class="media">\n    <div class="media-left">\n        [...]\n    </div>\n    <div class="media-body">\n        [...]\n    </div>\n</div>\n'})})}),"\n",(0,n.jsx)(o,{title:"Do",children:(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-html",children:'<div class="d-flex">\n    <div class="flex-shrink-0">\n        [...]\n    </div>\n    <div class="flex-grow-1 ml-3">\n        [...]\n    </div>\n</div>\n'})})}),"\n",(0,n.jsx)(i.h3,{id:"mixins",children:"Mixins"}),"\n",(0,n.jsx)(i.p,{children:"The following previously deprecated mixins will be dropped in BS5, so they can be refactored:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"hover, hover-focus, plain-hover-focus and hover-focus-active"}),"\n",(0,n.jsx)(i.li,{children:"float-left, float-right and float-none"}),"\n",(0,n.jsx)(i.li,{children:"nav-divider"}),"\n",(0,n.jsx)(i.li,{children:"img-retina"}),"\n",(0,n.jsx)(i.li,{children:"text-hide"}),"\n",(0,n.jsx)(i.li,{children:"invisible"}),"\n",(0,n.jsx)(i.li,{children:"form-control-focus"}),"\n",(0,n.jsx)(i.li,{children:"text-emphasis-variant"}),"\n",(0,n.jsx)(i.li,{children:"size"}),"\n",(0,n.jsx)(i.li,{children:"make-container-max-widths"}),"\n",(0,n.jsx)(i.li,{children:"g-variant and bg-gradient-variant"}),"\n"]}),"\n",(0,n.jsx)(s,{title:"Don't",children:(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-css",children:".collapse-list-item {\n    padding: $collapse-list-item-padding-y $collapse-list-item-padding-x;\n    @include hover-focus() {\n        background-color: $collapse-list-item-hover-bg;\n        border-color: $collapse-list-item-hover-border;\n    }\n}\n"})})}),"\n",(0,n.jsx)(o,{title:"Do",children:(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-css",children:".collapse-list-item {\n    padding: $collapse-list-item-padding-y $collapse-list-item-padding-x;\n    &:hover,\n    &:focus {\n        background-color: $collapse-list-item-hover-bg;\n        border-color: $collapse-list-item-hover-border;\n    }\n}\n"})})}),"\n",(0,n.jsx)(i.h3,{id:"forms",children:"Forms"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["The ",(0,n.jsx)(i.code,{children:".form-group"})," helper class has been replaced with margins."]}),"\n",(0,n.jsxs)(i.li,{children:["The ",(0,n.jsx)(i.code,{children:".form-inline"})," helper class has been replaced with utility classes."]}),"\n"]}),"\n",(0,n.jsx)(s,{title:"Don't",children:(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-html",children:'<form class="form-inline">\n    <div class="form-group">\n        [...]\n    </div>\n</form>\n'})})}),"\n",(0,n.jsx)(o,{title:"Do",children:(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-html",children:'<form class="d-flex flex-wrap align-items-center">\n    <div class="mb-3">\n        [...]\n    </div>\n</form>\n'})})}),"\n",(0,n.jsx)(i.h3,{id:"card-decks",children:"Card decks"}),"\n",(0,n.jsxs)(i.p,{children:["The ",(0,n.jsx)(i.code,{children:".card-deck"})," helper class has been replaced with utility classes."]}),"\n",(0,n.jsx)(s,{title:"Don't",children:(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-html",children:'<div class="card-deck">\n    <div class="card">\n        [...]\n    </div>\n    <div class="card">\n        [...]\n    </div>\n</div>\n'})})}),"\n",(0,n.jsx)(o,{title:"Do",children:(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-html",children:'<div class="row row-cols-1 row-cols-sm-2">\n    <div class="col">\n        <div class="card">\n            [...]\n        </div>\n    </div>\n    <div class="col">\n        <div class="card">\n            [...]\n        </div>\n    </div>\n</div>\n'})})})]})}function p(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}function g(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);