"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[91284],{9345:(e,s,n)=>{n.d(s,{ex:()=>u,U1:()=>p});n(96540);var i=n(81090),t=n(41690),l=n(59223),o=n(89229),r=n(93425),d=n(74848);function a(e){return e.githubUsername?(0,d.jsxs)(t.Ay,{alignItems:"flex-start",children:[(0,d.jsx)(l.A,{children:(0,d.jsx)(o.A,{src:`https://avatars.githubusercontent.com/${e.githubUsername}`})}),(0,d.jsx)(i.A,{to:`https://github.com/${e.githubUsername}`,children:(0,d.jsx)(r.A,{primary:e.name,secondary:e.githubUsername})})]},e.key):(0,d.jsx)(d.Fragment,{children:e.name})}const c={projectsummary:"projectsummary_VN1v"};var h=n(28820);function u(e){function s(e){let{status:s}=e;return(0,d.jsx)(d.Fragment,{children:s})}function n(e){let{owners:s}=e;return s?(0,d.jsx)(h.A,{children:s}):null}return t=p(e.projectName),(0,d.jsx)("div",{className:c.projectsummary,children:(0,d.jsx)("table",{children:(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Owners"}),(0,d.jsx)("td",{children:n(t)})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Status"}),(0,d.jsx)("td",{children:s(t)})]}),t.discussionLinks?.length>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Links"}),(0,d.jsx)("td",{children:t.discussionLinks.map((e=>{let{link:s,title:n}=e;return(0,d.jsx)("div",{children:(0,d.jsx)(i.A,{to:s,children:n})},n)}))})]}),t.issueLinks?.length>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Issues"}),(0,d.jsx)("td",{children:t.issueLinks.map((e=>{let{link:s,title:n}=e;return(0,d.jsx)("div",{children:(0,d.jsx)(i.A,{to:s,children:n})},n)}))})]})]})})});var t}const m=JSON.parse('{"d":{"docs/migration":{"title":"Dev Docs Migration","status":"In Progress","owners":[{"name":"Andrew Lyons","githubUsername":"andrewnicols"},{"name":"Sara Arjona","githubUsername":"sarjona"}],"discussionLinks":[{"link":"https://moodle.org/mod/forum/discuss.php?d=433613","title":"Announcement"}]},"api/string-deprecation":{"title":"String deprecation","status":"Complete","owners":[{"name":"Marina Glancy","githubUsername":"marinaglancy"}],"issueLinks":[{"link":"https://tracker.moodle.org/browse/MDL-46585","title":"MDL-46585"}]},"api/admin-tools":{"title":"Admin tools","status":"Complete","owners":[{"name":"Petr \u0160koda","githubUsername":"\u0161ko\u010f\xe1k"}],"issueLinks":[{"link":"https://tracker.moodle.org/browse/MDL-29029","title":"MDL-29029"}]},"api/amos":{"title":"Automated Manipulation of Strings (AMOS)","status":"Complete","owners":[{"name":"David Mudrak","githubUsername":"mudrd8mz"}],"discussionLinks":[{"link":"http://moodle.org/mod/forum/discuss.php?d=118707#p542197","title":"Discussion"}],"issueLinks":[{"link":"https://tracker.moodle.org/browse/MDL-18797","title":"MDL-18797"}]},"code/block-cleanup":{"title":"Block Cleanup","status":"Complete","owners":[{"name":"Sara Arjona","githubUsername":"sarjona"}],"discussionLinks":[{"link":"https://moodle.org/mod/forum/discuss.php?d=429959","title":"Discussion"}],"issueLinks":[{"link":"https://tracker.moodle.org/browse/MDL-73299","title":"MDL-73299"}]}}}'),p=e=>{if(!m.d[e])throw new Error(`Unknown project ${e}`);const s=m.d[e];return{projectName:e,title:s.title,owners:s.owners.map((e=>{return s=e,(0,d.jsx)("div",{children:a(s)},`Person:${s.name}`);var s})),status:s.status,issueLinks:s.issueLinks,discussionLinks:s.discussionLinks}}},17994:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>m,frontMatter:()=>r,metadata:()=>a,toc:()=>h});var i=n(74848),t=n(28453),l=n(78924),o=n(9345);const r={title:"Add a block cleanup",tags:["Code","Project","Blocks","Cleanup"],description:"A project to reduce the size of the 'Add a block' menu."},d=void 0,a={id:"projects/code/block-cleanup",title:"Add a block cleanup",description:"A project to reduce the size of the 'Add a block' menu.",source:"@site/general/projects/code/block-cleanup.md",sourceDirName:"projects/code",slug:"/projects/code/block-cleanup",permalink:"/moodledevdocs/general/projects/code/block-cleanup",draft:!1,unlisted:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/general/projects/code/block-cleanup.md",tags:[{label:"Code",permalink:"/moodledevdocs/general/tags/code"},{label:"Project",permalink:"/moodledevdocs/general/tags/project"},{label:"Blocks",permalink:"/moodledevdocs/general/tags/blocks"},{label:"Cleanup",permalink:"/moodledevdocs/general/tags/cleanup"}],version:"current",lastUpdatedBy:"Andrew Nicols",lastUpdatedAt:1656157897e3,frontMatter:{title:"Add a block cleanup",tags:["Code","Project","Blocks","Cleanup"],description:"A project to reduce the size of the 'Add a block' menu."},sidebar:"projects",previous:{title:"AMOS",permalink:"/moodledevdocs/general/projects/api/amos"}},c={},h=[{value:"Disabling blocks if the feature is disabled",id:"disabling-blocks-if-the-feature-is-disabled",level:2},{value:"Disabling less useful blocks",id:"disabling-less-useful-blocks",level:2},{value:"Letting themes define &quot;unneeded&quot; blocks",id:"letting-themes-define-unneeded-blocks",level:2}];function u(e){const s={h2:"h2",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{frontMatter:r,metadata:a}),"\n","\n",(0,i.jsx)(o.ex,{projectName:"code/block-cleanup"}),"\n",(0,i.jsx)(s.p,{children:"In the Add a block menu, the list of blocks is really long. This project is about figuring out how to reduce the list."}),"\n",(0,i.jsx)(s.h2,{id:"disabling-blocks-if-the-feature-is-disabled",children:"Disabling blocks if the feature is disabled"}),"\n",(0,i.jsx)(s.p,{children:"Blocks such as the blog menu, blog tags and recent blog entries will be disabled if blogs are disabled in advanced features."}),"\n",(0,i.jsx)(s.p,{children:"Blocks this applies to:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Accessibility review"}),"\n",(0,i.jsx)(s.li,{children:"Blog menu"}),"\n",(0,i.jsx)(s.li,{children:"Blog tags"}),"\n",(0,i.jsx)(s.li,{children:"Recent blog entries"}),"\n",(0,i.jsx)(s.li,{children:"Comments"}),"\n",(0,i.jsx)(s.li,{children:"Course completion status"}),"\n",(0,i.jsx)(s.li,{children:"Global search"}),"\n",(0,i.jsx)(s.li,{children:"Latest badges"}),"\n",(0,i.jsx)(s.li,{children:"Learning plans"}),"\n",(0,i.jsx)(s.li,{children:"Network servers"}),"\n",(0,i.jsx)(s.li,{children:"Random glossary entry"}),"\n",(0,i.jsx)(s.li,{children:"Tags"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"disabling-less-useful-blocks",children:"Disabling less useful blocks"}),"\n",(0,i.jsx)(s.p,{children:"Some blocks that we have disabled by default are:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Course summary"}),"\n",(0,i.jsx)(s.li,{children:"Feedback - as the block only works if a Feedback activity is added to the site home page"}),"\n",(0,i.jsx)(s.li,{children:"Remote RSS feeds - as RSS feeds are not used as much these days"}),"\n",(0,i.jsx)(s.li,{children:"Self completion - as the block is only needed if self completion is enabled in the course completion settings (as mentioned in the setting)."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"For new installs, the above blocks will disabled by default."}),"\n",(0,i.jsx)(s.p,{children:"For upgraded sites, we check if there are any instances of the block and if not, disable it."}),"\n",(0,i.jsx)(s.h2,{id:"letting-themes-define-unneeded-blocks",children:'Letting themes define "unneeded" blocks'}),"\n",(0,i.jsx)(s.p,{children:"The Administration and Navigation blocks are only needed if the Classic theme is used."}),"\n",(0,i.jsx)(s.p,{children:'A new theme setting has been added to let themes mark blocks as "unneeded" (to avoid them being displayed in the "Add a block" list). This will allow Boost to mark the following blocks as unneeded:'}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Navigation"}),"\n",(0,i.jsx)(s.li,{children:"Administration"}),"\n",(0,i.jsx)(s.li,{children:"Courses - as we have My courses in 4.0"}),"\n",(0,i.jsx)(s.li,{children:"Section links - as the course index in 4.0 provides access to sections"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:'As it\'s a theme setting, admins can still remove them from this "unneeded" blocks list, if, for any reason, they want the block to be available in the "Add a block" list.'})]})}function m(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}}}]);