"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[49908],{27:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>a,toc:()=>c});var r=s(74848),n=s(28453),o=s(78924);const d={title:"jQuery",tags:["Javascript","jQuery","Deprecations"],description:"A description of how and when to use jQuery in Moodle"},t=void 0,a={id:"guides/javascript/jquery/index",title:"jQuery",description:"A description of how and when to use jQuery in Moodle",source:"@site/docs/guides/javascript/jquery/index.md",sourceDirName:"guides/javascript/jquery",slug:"/guides/javascript/jquery/",permalink:"/moodledevdocs/docs/4.4/guides/javascript/jquery/",draft:!1,unlisted:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/docs/guides/javascript/jquery/index.md",tags:[{label:"Javascript",permalink:"/moodledevdocs/docs/4.4/tags/javascript"},{label:"jQuery",permalink:"/moodledevdocs/docs/4.4/tags/j-query"},{label:"Deprecations",permalink:"/moodledevdocs/docs/4.4/tags/deprecations"}],version:"current",lastUpdatedBy:"Andrew Nicols",lastUpdatedAt:1713332374e3,frontMatter:{title:"jQuery",tags:["Javascript","jQuery","Deprecations"],description:"A description of how and when to use jQuery in Moodle"},sidebar:"docs",previous:{title:"Example usages",permalink:"/moodledevdocs/docs/4.4/guides/javascript/comboboxsearch/examples"},next:{title:"Modal Dialogues",permalink:"/moodledevdocs/docs/4.4/guides/javascript/modal/"}},l={},c=[{value:"Why do we need JQuery?",id:"why-do-we-need-jquery",level:2},{value:"How to use JQuery",id:"how-to-use-jquery",level:2},{value:"As a dependency of a module",id:"as-a-dependency-of-a-module",level:3},{value:"With a require call",id:"with-a-require-call",level:3},{value:"What about JQuery UI ?",id:"what-about-jquery-ui-",level:2},{value:"See also",id:"see-also",level:2}];function u(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components},{DeprecatedSince:s,TabItem:t,Tabs:l}=i;return s||j("DeprecatedSince",!0),t||j("TabItem",!0),l||j("Tabs",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.A,{frontMatter:d,metadata:a}),"\n",(0,r.jsx)(s,{versions:["3.8"]}),"\n",(0,r.jsx)(i.p,{children:"The use of jQuery in new code is strongly discouraged and is not generally accepted in core. Specific exceptions to this rule are made on a case-by-case basis, generally when interfacing with legacy code which expects to be passed a jQuery object."}),"\n",(0,r.jsx)(i.p,{children:"Moodle has supported the use of native ES6-style modules and constructs since Moodle 3.8. These are transpiled into supported code."}),"\n",(0,r.jsxs)(i.p,{children:["This page explains the recommended way to use jQuery in core and plugins, although other ",(0,r.jsx)(i.a,{href:"https://docs.moodle.org/dev/jQuery_pre2.9",children:"older"})," methods of including jQuery will still work these are no longer considered to be supported."]}),"\n",(0,r.jsx)(i.h2,{id:"why-do-we-need-jquery",children:"Why do we need JQuery?"}),"\n",(0,r.jsx)(i.admonition,{type:"important",children:(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"We do not need jQuery and its use is discouraged"}),". The following is legacy documentation and no longer current advice."]})}),"\n",(0,r.jsx)(i.p,{children:"JQuery is useful for handling browser inconsistencies, and for utility functions that would otherwise be duplicated all over the code. Some particular things that JQuery is good at are:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"DOM Manipulations"}),"\n",(0,r.jsx)(i.li,{children:"Promises ($.Deferred)"}),"\n",(0,r.jsx)(i.li,{children:"Ajax"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"how-to-use-jquery",children:"How to use JQuery"}),"\n",(0,r.jsx)(i.p,{children:"JQuery is available via an AMD Module import and is available to all AMD JavaScript."}),"\n",(0,r.jsx)(i.p,{children:"To make use of JQuery, either list it as a dependency of your module, or use a require call to load it."}),"\n",(0,r.jsx)(i.h3,{id:"as-a-dependency-of-a-module",children:"As a dependency of a module"}),"\n",(0,r.jsxs)(l,{children:[(0,r.jsx)(t,{value:"jquery-import-es6",label:"ES6 Imports",children:(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-javascript",metastring:'title="mod/yourplugin/amd/src/yourwidget.js"',children:"import jQuery from 'jquery';\n\njQuery('.example').hide();\n"})})}),(0,r.jsxs)(t,{value:"jquery-amd-define",label:"AMD Dependency",children:[(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-javascript",metastring:'title="lib/amd/src/example.js"',children:"define(['jquery'], function(jQuery) {\n    // You can make use of the jQuery object here.\n    jQuery('.example').hide();\n});\n"})}),(0,r.jsx)(i.h3,{id:"with-a-require-call",children:"With a require call"})]}),(0,r.jsx)(t,{value:"jquery-amd-require",label:"AMD Requirement",children:(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-javascript",metastring:'title="mod/yourplugin/amd/src/yourwidget.js"',children:"require(['jquery'], function(jQuery) {\n    // JQuery is available via the jQuery object here.\n    jQuery('.example').hide();\n});\n// JQuery is not in scope and cannot be used.\n"})})})]}),"\n",(0,r.jsx)(i.h2,{id:"what-about-jquery-ui-",children:"What about JQuery UI ?"}),"\n",(0,r.jsxs)(i.p,{children:["JQuery UI is a separate project containing a library of reusable widgets that relies on JQuery. JQuery UI is available for plugins to use, but it ",(0,r.jsx)(i.strong,{children:"must not"})," be used in core code, and is ",(0,r.jsx)(i.em,{children:"highly discouraged"})," in plugin usage."]}),"\n",(0,r.jsx)(i.p,{children:"The problems with JQuery UI include:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"It uses an entirely different theme system for CSS that does not work well with Moodle themes"}),"\n",(0,r.jsx)(i.li,{children:"It introduces CSS conflicts with bootstrap"}),"\n",(0,r.jsx)(i.li,{children:"The widgets have some accessibility features - but only if used in a very specific way which is not well documented"}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["We ",(0,r.jsx)(i.strong,{children:"do not"})," recommend use of jQuery as it is highly likely to break Bootstrap."]}),"\n",(0,r.jsxs)(i.p,{children:["If you ",(0,r.jsx)(i.em,{children:"still"})," want to use JQuery UI in your plugin, you ",(0,r.jsx)(i.em,{children:"must"})," include it via the page requirements using the ",(0,r.jsx)(i.code,{children:"jquery_plugin()"})," function."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-php",children:"$PAGE->requires->jquery_plugin('ui');\n"})}),"\n",(0,r.jsxs)(i.p,{children:["Please note that this ",(0,r.jsx)(i.em,{children:"must"})," be called before any content is output."]}),"\n",(0,r.jsx)(i.h2,{id:"see-also",children:"See also"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/moodledevdocs/docs/4.4/guides/javascript/modules",children:"JavaScript Modules"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://docs.moodle.org/dev/Useful_core_Javascript_modules",children:"Useful core JavaScript modules"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://docs.moodle.org/dev/jQuery_pre2.9",children:"jQuery in Moodle before Moodle 2.9"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"http://jquery.com",children:"jQuery Documentation"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"http://jqueryui.com",children:"jQuery UI Documentation"})}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}function j(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);