"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[24163],{20397:(e,o,i)=>{i.r(o),i.d(o,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>n,metadata:()=>a,toc:()=>c});var s=i(74848),t=i(28453),r=i(78924);const n={title:"Denial of service",sidebar_position:11,tags:["Coding guidelines","Policies","Security"]},l=void 0,a={id:"development/policies/security/dos",title:"Denial of service",description:"This page forms part of the Moodle security guidelines.",source:"@site/general/development/policies/security/dos.md",sourceDirName:"development/policies/security",slug:"/development/policies/security/dos",permalink:"/moodledevdocs/general/development/policies/security/dos",draft:!1,unlisted:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/general/development/policies/security/dos.md",tags:[{label:"Coding guidelines",permalink:"/moodledevdocs/general/tags/coding-guidelines"},{label:"Policies",permalink:"/moodledevdocs/general/tags/policies"},{label:"Security",permalink:"/moodledevdocs/general/tags/security"}],version:"current",lastUpdatedBy:"Andrew Nicols",lastUpdatedAt:1657612297e3,sidebarPosition:11,frontMatter:{title:"Denial of service",sidebar_position:11,tags:["Coding guidelines","Policies","Security"]},sidebar:"coding",previous:{title:"Session fixation",permalink:"/moodledevdocs/general/development/policies/security/session-fixation"},next:{title:"Brute-forcing login",permalink:"/moodledevdocs/general/development/policies/security/bruteforcing-login"}},d={},c=[{value:"What is the danger?",id:"what-is-the-danger",level:2},{value:"How Moodle avoids this problem",id:"how-moodle-avoids-this-problem",level:2},{value:"What you need to do in your code",id:"what-you-need-to-do-in-your-code",level:2},{value:"What you need to do as an administrator",id:"what-you-need-to-do-as-an-administrator",level:2},{value:"See also",id:"see-also",level:2}];function h(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.A,{frontMatter:n,metadata:a}),"\n",(0,s.jsx)(o.admonition,{type:"note",children:(0,s.jsxs)(o.p,{children:["This page forms part of the ",(0,s.jsx)(o.a,{href:"../security",children:"Moodle security guidelines"}),"."]})}),"\n",(0,s.jsx)(o.h2,{id:"what-is-the-danger",children:"What is the danger?"}),"\n",(0,s.jsx)(o.p,{children:"A malicious user tries to overload your server, so it crashes or becomes very slow for legitimate users."}),"\n",(0,s.jsxs)(o.p,{children:["Or there may be some other way that they can make it impossible for legitimate users to use your site. For example, by using a cross-site scripting vulnerability to include the JavaScript ",(0,s.jsx)(o.code,{children:"window.close()"})," in a forum post."]}),"\n",(0,s.jsx)(o.h2,{id:"how-moodle-avoids-this-problem",children:"How Moodle avoids this problem"}),"\n",(0,s.jsx)(o.p,{children:"This is a very difficult type of attack to defend against, if the attacker is determined."}),"\n",(0,s.jsx)(o.p,{children:"However, most of the really expensive operations in Moodle (for example completing a quiz) are only available to authenticated users, so by logging all requests from authenticated users,Moodle helps administrators identify culprits."}),"\n",(0,s.jsx)(o.h2,{id:"what-you-need-to-do-in-your-code",children:"What you need to do in your code"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"There is very little you can do from PHP code."}),"\n",(0,s.jsxs)(o.li,{children:["However, every page access should be logged. This will help investigate who is to blame, if a problem arises. Call ",(0,s.jsx)(o.code,{children:"add_to_log"})," from your scripts."]}),"\n",(0,s.jsx)(o.li,{children:"Follow general performance good practice, so your code does not consume more resources than necessary."}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"what-you-need-to-do-as-an-administrator",children:"What you need to do as an administrator"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"There are various tools you can use (for example, firewalls, proxies) to try to limit the number of requests coming into your server. If you have a problem, look into them, but there is not space space for a detailed description here."}),"\n",(0,s.jsx)(o.li,{children:"Know how to use the logs to investigate problems."}),"\n",(0,s.jsx)(o.li,{children:"Monitor performance on your servers, so you know what normal load looks like, and that you have enough hardware to cope with normal fluctuations in load."}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"../security",children:"Security"})}),"\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"/moodledevdocs/general/development/policies",children:"Coding"})}),"\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://owasp.org/www-community/attacks/Denial_of_Service",children:"Denial of service in OWASP"})}),"\n"]})]})}function u(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);