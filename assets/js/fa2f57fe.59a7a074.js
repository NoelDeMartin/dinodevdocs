"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[15967],{74796:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var s=i(74848),n=i(28453),o=i(78924);const a={title:"Unauthenticated access",sidebar_position:1,tags:["Coding guidelines","Policies","Security"]},r=void 0,l={id:"development/policies/security/unauthenticated-access",title:"Unauthenticated access",description:"This page forms part of the Moodle security guidelines.",source:"@site/general/development/policies/security/unauthenticated-access.md",sourceDirName:"development/policies/security",slug:"/development/policies/security/unauthenticated-access",permalink:"/moodledevdocs/general/development/policies/security/unauthenticated-access",draft:!1,unlisted:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/general/development/policies/security/unauthenticated-access.md",tags:[{label:"Coding guidelines",permalink:"/moodledevdocs/general/tags/coding-guidelines"},{label:"Policies",permalink:"/moodledevdocs/general/tags/policies"},{label:"Security",permalink:"/moodledevdocs/general/tags/security"}],version:"current",lastUpdatedBy:"Andrew Nicols",lastUpdatedAt:1657612297e3,sidebarPosition:1,frontMatter:{title:"Unauthenticated access",sidebar_position:1,tags:["Coding guidelines","Policies","Security"]},sidebar:"coding",previous:{title:"Security",permalink:"/moodledevdocs/general/development/policies/security/"},next:{title:"Unauthorised access",permalink:"/moodledevdocs/general/development/policies/security/unauthorised-access"}},d={},c=[{value:"What is the danger?",id:"what-is-the-danger",level:2},{value:"How Moodle avoids this problem",id:"how-moodle-avoids-this-problem",level:2},{value:"What you need to do in your code",id:"what-you-need-to-do-in-your-code",level:2},{value:"What you need to do as an administrator",id:"what-you-need-to-do-as-an-administrator",level:2},{value:"See also",id:"see-also",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{frontMatter:a,metadata:l}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["This page forms part of the ",(0,s.jsx)(t.a,{href:"../security",children:"Moodle security guidelines"}),"."]})}),"\n",(0,s.jsx)(t.h2,{id:"what-is-the-danger",children:"What is the danger?"}),"\n",(0,s.jsx)(t.p,{children:"Moodle runs on a web server somewhere. A user sits at their computer somewhere else. Before we let that user enrol in a course, post to a forum, or submit an assignment, we would like to be sure who that user is."}),"\n",(0,s.jsx)(t.p,{children:"If you don't know who the user is, you cannot correctly determine which actions they should be allowed to perform within Moodle."}),"\n",(0,s.jsx)(t.h2,{id:"how-moodle-avoids-this-problem",children:"How Moodle avoids this problem"}),"\n",(0,s.jsx)(t.p,{children:"This is a common problem to all web applications, and a common solution it to require users to log in with a user name and a password."}),"\n",(0,s.jsxs)(t.p,{children:["In fact, Moodle can have different ",(0,s.jsx)(t.strong,{children:"authentication plugins"})," that authenticate the user in different ways, but most of the standard authentication plugins are based on a user name and password system."]}),"\n",(0,s.jsx)(t.p,{children:"Another example of authentication is when you let users create their own accounts using Email-based self-registration. They must enter an email address. Moodle then sends an email to that address, and they must click on the link in that email to complete their registration. That authenticates that the user has access to that email address. A similar case is when you don't allow self-registration, but instead, manually create an account for each user, and give the user their user name and password in person, while verifying their identity in another way."}),"\n",(0,s.jsxs)(t.p,{children:["Yet another example is a ",(0,s.jsx)(t.strong,{children:"captcha"}),". This is some task that humans are able to do, like typing in the letters in a blurry image, but computers cannot. It authenticates that the thing filling in a form is a human, not an automated script."]}),"\n",(0,s.jsx)(t.h2,{id:"what-you-need-to-do-in-your-code",children:"What you need to do in your code"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Most authentication issues are taken care of by the Moodle system and the authentication plugins."}),"\n",(0,s.jsxs)(t.li,{children:["In every Moodle script you create, add a call to ",(0,s.jsx)(t.code,{children:"require_login"})," or ",(0,s.jsx)(t.code,{children:"require_course_login"})," as near the start as possible. That is, as soon as you have the ",(0,s.jsx)(t.code,{children:"$course"})," and ",(0,s.jsx)(t.code,{children:"$cm"})," parameters that you need to pass (if applicable).","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"The only exception to this is a few pages like the front page, which should be available to everyone."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.li,{children:"If you are writing a new authentication plugin, make sure you know what you are doing."}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"what-you-need-to-do-as-an-administrator",children:"What you need to do as an administrator"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Think carefully about which authentication method is appropriate for your site.","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Be very cautious about allowing users to self-register."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"../security",children:"Security"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/moodledevdocs/general/development/policies",children:"Coding"})}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);