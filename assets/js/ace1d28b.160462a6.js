"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[72805],{16191:(e,o,i)=>{i.r(o),i.d(o,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>h});var t=i(74848),n=i(28453),r=i(78924);const s={title:"Plugin contribution",tags:["Guidelines for contributors","Plugins","Plugin documentation"]},l=void 0,a={id:"community/plugincontribution/index",title:"Plugin contribution",description:"This page describes how to contribute your code into the Plugins directory to share it with the Moodle community.",source:"@site/general/community/plugincontribution/index.md",sourceDirName:"community/plugincontribution",slug:"/community/plugincontribution/",permalink:"/moodledevdocs/general/community/plugincontribution/",draft:!1,unlisted:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/general/community/plugincontribution/index.md",tags:[{label:"Guidelines for contributors",permalink:"/moodledevdocs/general/tags/guidelines-for-contributors"},{label:"Plugins",permalink:"/moodledevdocs/general/tags/plugins"},{label:"Plugin documentation",permalink:"/moodledevdocs/general/tags/plugin-documentation"}],version:"current",lastUpdatedBy:"V\xedctor D\xe9niz",lastUpdatedAt:1691677768e3,frontMatter:{title:"Plugin contribution",tags:["Guidelines for contributors","Plugins","Plugin documentation"]},sidebar:"community",previous:{title:"Third-party libraries",permalink:"/moodledevdocs/general/community/credits/thirdpartylibs"},next:{title:"Checklist",permalink:"/moodledevdocs/general/community/plugincontribution/checklist"}},d={},h=[{value:"Why",id:"why",level:2},{value:"Before you start",id:"before-you-start",level:2},{value:"Sharing code in the Plugins directory",id:"sharing-code-in-the-plugins-directory",level:2},{value:"Repository",id:"repository",level:3},{value:"Tracker",id:"tracker",level:3},{value:"Tutorial",id:"tutorial",level:2},{value:"See also",id:"see-also",level:2}];function c(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.A,{frontMatter:s,metadata:a}),"\n",(0,t.jsxs)(o.p,{children:["This page describes how to contribute your code into the ",(0,t.jsx)(o.a,{href:"/moodledevdocs/general/community/plugincontribution/pluginsdirectory/",children:"Plugins directory"})," to share it with the Moodle community."]}),"\n",(0,t.jsx)(o.h2,{id:"why",children:"Why"}),"\n",(0,t.jsx)(o.p,{children:"You are encouraged to share your plugin with the community. But firstly, to be clear and honest, you do not necessarily need to submit your plugin into the Plugins directory. Maybe it is a custom plugin that solves one particular site's needs and you do not really want to share it with others."}),"\n",(0,t.jsx)(o.admonition,{type:"note",children:(0,t.jsx)(o.p,{children:"Remember you can always simply host your plugin on your own site and let users download it manually from there."})}),"\n",(0,t.jsx)(o.p,{children:"Having your plugin registered with the Plugins directory has several benefits."}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Your plugin is easier to install. Plugins directory integrates with Moodle. Administrators can simply install your plugin from the plugins directory via the web interface."}),"\n",(0,t.jsx)(o.li,{children:"Your plugin is easier to update. Whenever you release a new version of your plugin, all administrators having it installed are notified about the available update. They can easily upgrade to the new version from within the Moodle administration UI."}),"\n",(0,t.jsxs)(o.li,{children:["You reserve the component name (",(0,t.jsx)(o.a,{href:"/moodledevdocs/general/development/policies/codingstyle/frankenstyle",children:"frankenstyle"}),") of your plugin. Plugins directory is the official register of Moodle plugins. As with the internet domain names, there can't be two plugins having the same component name."]}),"\n",(0,t.jsxs)(o.li,{children:["The plugin can be localised. Plugins in the Plugins directory are implicitly registered with ",(0,t.jsx)(o.a,{href:"https://docs.moodle.org/en/AMOS_manual",children:"AMOS"})," and can be localised using the same tools that are used for localising the standard Moodle UI."]}),"\n",(0,t.jsx)(o.li,{children:"The plugin must be approved. Many institutions respect the approval review procedure and do not allow to install a plugin on their servers unless it has been approved in the plugins directory."}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"before-you-start",children:"Before you start"}),"\n",(0,t.jsx)(o.p,{children:"Before submitting your work to the Plugins directory, you should make sure you have all required and recommended resources available."}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Plugin type"})," - Different ",(0,t.jsx)(o.a,{href:"/docs/4.4/apis/plugintypes/",children:"plugin types"})," are best suited for certain types of functionality. It is important to choose the appropriate plugin type to implement the desired features."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Plugin name"})," - See the ",(0,t.jsx)(o.a,{href:"/moodledevdocs/general/development/policies/codingstyle/frankenstyle",children:"Frankenstyle"})," page for details."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Repository"})," - You are expected to have the plugin code published and shared in a way that facilitates collaboration on further development. Ideally, you have the code available in a public Git repository. Most developers found ",(0,t.jsx)(o.a,{href:"https://github.com",children:"Github"})," a good place to host their code on. The ",(0,t.jsx)(o.a,{href:"#repository",children:"Repository"})," section below provides more details."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Tracker"})," - You are expected to have a system where users can report issues, bugs and feature requests for the plugin. Again, many developers use ",(0,t.jsx)(o.a,{href:"https://guides.github.com/features/issues/",children:"Github issues"})," happily these days. You can also use the Moodle tracker if you prefer. See ",(0,t.jsx)(o.a,{href:"#tracker",children:"Tracker"})," section for more details."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Documentation"})," - The plugin should have a good documentation available. See ",(0,t.jsx)(o.a,{href:"/moodledevdocs/general/community/plugincontribution/documentation",children:"Plugin documentation"})," for options."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Screenshots"})," - Prepare good screenshots that illustrate your plugin's essential features."]}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"sharing-code-in-the-plugins-directory",children:"Sharing code in the Plugins directory"}),"\n",(0,t.jsxs)(o.p,{children:["So you have written a new plugin and want to share it now in the ",(0,t.jsx)(o.a,{href:"/moodledevdocs/general/community/plugincontribution/pluginsdirectory/",children:"Plugins directory"}),"? Great! Shortly, the workflow of publishing and maintaining your plugin in the Plugins directory looks like this:"]}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.img,{alt:"Workflow of contributing a plugin into the Moodle plugins directory",src:i(85596).A+"",width:"1110",height:"588"})}),"\n",(0,t.jsx)("figcaption",{children:(0,t.jsxs)(o.p,{children:["Workflow of contributing a plugin into the Moodle plugins directory (",(0,t.jsx)(o.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(81704).A+"",children:"SVG version"}),")"]})}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["You upload the initial plugin version for approval from the ",(0,t.jsx)(o.a,{href:"https://moodle.org/plugins/registerplugin.php",children:"Register a new plugin"})," link, available  in the Navigation block in the blocks drawer on the right. To help the approval review go smoothly, please feel encouraged to review the ",(0,t.jsx)(o.a,{href:"/moodledevdocs/general/community/plugincontribution/checklist",children:"Plugin contribution checklist"})," and follow all the guidelines there."]}),"\n",(0,t.jsxs)(o.li,{children:["After you submit the plugin for approval, please brace yourself with patience. You will likely wait some weeks before you get initial review results. We generally try and provide the feedback sooner, but it is not always possible. The actual approval queue stats ",(0,t.jsx)(o.a,{href:"https://moodle.org/plugins/queue.php",children:"are available"}),"."]}),"\n",(0,t.jsx)(o.li,{children:"The plugin goes through the validation and approval process."}),"\n",(0,t.jsx)(o.li,{children:'Almost all plugins are sent back as "needing more work" as a result of the initial review, and there is no reason to feel bad about that. It is natural part of the workflow. You may find particular issues reported so you have an opportunity to demonstrate your ability to co-operate with the reporter to resolve them.'}),"\n",(0,t.jsxs)(o.li,{children:["Once the plugin is approved, its strings are registered with ",(0,t.jsx)(o.a,{href:"https://docs.moodle.org/en/AMOS_manual",children:"AMOS"})," and can be translated. The plugin itself should ship with English strings only. The page ",(0,t.jsx)(o.a,{href:"https://docs.moodle.org/en/Translating_plugins",children:"Translating plugins"})," has more details."]}),"\n",(0,t.jsx)(o.li,{children:"We do not automatically pull from Github. You have to explicitly release new version via the Plugins directory. Still you are encouraged to use Git tags - releasing new version is easier then."}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"repository",children:"Repository"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Git is de-facto standard source code management system for Moodle plugins."}),"\n",(0,t.jsx)(o.li,{children:"You are supposed to publish and share your plugin code so that others can clone it easily and eventually contribute patches for it easily."}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.a,{href:"https://github.com/",children:"Github"})," is a popular choice of many Moodle developers these days."]}),"\n",(0,t.jsx)(o.li,{children:"The layout should be that the root of the repository is the root of the plugin folder. In other words, in the root of your repository there should be files like version.php and folders like lang or classes. That way, your plugin can be directly cloned (checked out) into existing Moodle installation without conflicting with other contributed plugins of the same type, also obtained via Git."}),"\n",(0,t.jsxs)(o.li,{children:["It is suggested to follow the common naming convention of Moodle related repositories: moodle-",(0,t.jsx)(o.code,{children:"{plugintype}_{pluginname}"}),". For example, the birthday block has a repository name of ",(0,t.jsx)(o.code,{children:"moodle-block_birthday"})," and is located at ",(0,t.jsx)(o.a,{href:"https://github.com/arborrow/moodle-block_birthday",children:"https://github.com/arborrow/moodle-block_birthday"}),". Other developers can fork the code and work from their repositories."]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"tracker",children:"Tracker"}),"\n",(0,t.jsx)(o.p,{children:"You are expected to have a system where users can report feature requests, bugs, and other code issues. Following the open source best practise, these reports should be open and public and the associated procedures should be as transparent as possible."}),"\n",(0,t.jsx)(o.admonition,{type:"info",children:(0,t.jsx)(o.p,{children:"There are multiple options on where to host the issues tracker. Most plugin developers today prefer to have the issue tracker close to their source code management system - so they use the native issue tracker built into Github, BitBucket or some similar system. It is suggested to use a system that your users are likely to be familiar with."})}),"\n",(0,t.jsx)(o.h2,{id:"tutorial",children:"Tutorial"}),"\n",(0,t.jsxs)(o.p,{children:["There is a ",(0,t.jsx)(o.a,{href:"https://docs.moodle.org/dev/Tutorial",children:"Tutorial"})," to help you learn how to write plugins for Moodle from start to finish, while showing you how to navigate the most important developer documentation along the way."]}),"\n",(0,t.jsx)(o.h2,{id:"see-also",children:"See also"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:(0,t.jsx)(o.a,{href:"https://docs.moodle.org/dev/Moodle_icons",children:"Moodle icons"})}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.a,{href:"/moodledevdocs/general/community",children:"Overview"})," of Moodle development"]}),"\n",(0,t.jsxs)(o.li,{children:["Using Moodle ",(0,t.jsx)(o.a,{href:"http://moodle.org/mod/forum/discuss.php?d=99037",children:"Best practices for code modification?"})," forum discussion"]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.a,{href:"http://aosabook.org/en/moodle.html",children:"Moodle in The Architecture of Open Source Applications"}),", by Tim Hunt - an overview of all aspects of how Moodle works, it focuses on those areas where Moodle's design is particularly interesting."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.a,{href:"https://moodledev.io/docs/apis/core/dml/database-schema",children:"The Moodle 3.0 database schema"})," reverse engineered and ",(0,t.jsx)(o.a,{href:"https://docs.moodle.org/dev/Database_schema_introduction",children:"Database schema introduction"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.a,{href:"https://moodle.org/mod/forum/discuss.php?d=322196",children:"Preparing plugins for Moodle 3.0"})," excellent summary in this forum thread. Also applies for Moodle 3.1 and newer."]}),"\n"]})]})}function u(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},81704:(e,o,i)=>{i.d(o,{A:()=>t});const t=i.p+"assets/files/plugin-contribution-workflow-86373b9c2f012328edc06e12854b8593.svg"},85596:(e,o,i)=>{i.d(o,{A:()=>t});const t=i.p+"assets/images/plugin-contribution-workflow-e44b596f53750cba2a4059f58cf1f1dc.png"}}]);