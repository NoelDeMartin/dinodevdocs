"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[26531],{50891:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>a,toc:()=>h});var r=o(74848),t=o(28453),n=o(78924);const i={title:"Browsers",sidebar_position:3,tags:["Quality Assurance","Testing","Behaviour testing","Behat"]},l=void 0,a={id:"development/tools/behat/browsers/index",title:"Browsers",description:"This page complements Behat providing info about how to run the acceptance tests suite in different browsers.",source:"@site/general/development/tools/behat/browsers/index.md",sourceDirName:"development/tools/behat/browsers",slug:"/development/tools/behat/browsers/",permalink:"/moodledevdocs/general/development/tools/behat/browsers/",draft:!1,unlisted:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/general/development/tools/behat/browsers/index.md",tags:[{label:"Quality Assurance",permalink:"/moodledevdocs/general/tags/quality-assurance"},{label:"Testing",permalink:"/moodledevdocs/general/tags/testing"},{label:"Behaviour testing",permalink:"/moodledevdocs/general/tags/behaviour-testing"},{label:"Behat",permalink:"/moodledevdocs/general/tags/behat"}],version:"current",lastUpdatedBy:"Eloy Lafuente (stronk7)",lastUpdatedAt:1682061689e3,sidebarPosition:3,frontMatter:{title:"Browsers",sidebar_position:3,tags:["Quality Assurance","Testing","Behaviour testing","Behat"]},sidebar:"coding",previous:{title:"Writing acceptance tests",permalink:"/moodledevdocs/general/development/tools/behat/writing"},next:{title:"Working combinations of OS+Browser+selenium",permalink:"/moodledevdocs/general/development/tools/behat/browsers/supportedbrowsers"}},d={},h=[{value:"Drivers",id:"drivers",level:2},{value:"PhantomJS",id:"phantomjs",level:3},{value:"Examples",id:"examples",level:3},{value:"Compatibility",id:"compatibility",level:2},{value:"Working combinations of OS+Browser+selenium",id:"working-combinations-of-osbrowserselenium",level:2}];function c(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{frontMatter:i,metadata:a}),"\n",(0,r.jsxs)(s.p,{children:["This page complements ",(0,r.jsx)(s.a,{href:"/moodledevdocs/general/development/tools/behat/",children:"Behat"})," providing info about how to run the acceptance tests suite in different browsers."]}),"\n",(0,r.jsx)(s.h2,{id:"drivers",children:"Drivers"}),"\n",(0,r.jsxs)(s.p,{children:["There are ",(0,r.jsx)(s.a,{href:"http://docs.seleniumhq.org/projects/webdriver/",children:"Selenium drivers"})," to run acceptance tests in different browsers:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Firefox - ",(0,r.jsx)(s.a,{href:"https://code.google.com/p/selenium/wiki/FirefoxDriver",children:"https://code.google.com/p/selenium/wiki/FirefoxDriver"})]}),"\n",(0,r.jsxs)(s.li,{children:["Chrome - ",(0,r.jsx)(s.a,{href:"https://code.google.com/p/selenium/wiki/ChromeDriver",children:"https://code.google.com/p/selenium/wiki/ChromeDriver"})]}),"\n",(0,r.jsxs)(s.li,{children:["Safari - ",(0,r.jsx)(s.a,{href:"https://code.google.com/p/selenium/wiki/SafariDriver",children:"https://code.google.com/p/selenium/wiki/SafariDriver"})]}),"\n",(0,r.jsxs)(s.li,{children:["Internet Explorer - ",(0,r.jsx)(s.a,{href:"https://code.google.com/p/selenium/wiki/InternetExplorerDriver",children:"https://code.google.com/p/selenium/wiki/InternetExplorerDriver"})]}),"\n",(0,r.jsxs)(s.li,{children:["Microsoft Edge - ",(0,r.jsx)(s.a,{href:"https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/",children:"https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/"})]}),"\n",(0,r.jsxs)(s.li,{children:["PhantomJS (Webkit) - ",(0,r.jsx)(s.a,{href:"http://phantomjs.org/",children:"http://phantomjs.org/"})]}),"\n",(0,r.jsxs)(s.li,{children:["IPhone - ",(0,r.jsx)(s.a,{href:"https://code.google.com/p/selenium/wiki/IPhoneDriver",children:"https://code.google.com/p/selenium/wiki/IPhoneDriver"})]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Each driver should be downloaded and Selenium .jar should be started specifying the path to the driver; depending on the driver there could be other requirements."}),"\n",(0,r.jsx)(s.h3,{id:"phantomjs",children:"PhantomJS"}),"\n",(0,r.jsx)(s.p,{children:"PhantomJS is different as it is a headless browser as it is quite faster than other drivers, it doesn't need a GUI to run and can execute JS, it doesn't even need to be used through Selenium (you can do it though, but it's not officially supported) and you can do it"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Download PhantomJS: ",(0,r.jsx)(s.a,{href:"http://phantomjs.org/download.html",children:"http://phantomjs.org/download.html"})]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Run the following command"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-console",children:"/path/to/your/phantomjs/bin/phantomjs --webdriver=4444\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Note that 4444 is the default port used by Selenium, so you must specify another one if you want to run them together and specify the port in ",(0,r.jsx)(s.code,{children:"$CFG->behat_config"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-console",metastring:'title="Selenium in Linux (firefox by default + chrome)"',children:"   java -jar /opt/selenium-server-standalone.jar -Dwebdriver.chrome.driver=/opt/chromedriver\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-console",metastring:'title="Selenium in OSx (firefox & safari by default + chrome)"',children:"  java -jar /Users/moodle/Downloads/selenium-server-standalone.jar -Dwebdriver.chrome.driver=/Users/moodle/Downloads/chromedriver\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-console",metastring:'title="Selenium in Windows (started using git bash) (firefox by default + chrome + internet explorer)"',children:"  java -jar /c/seleniumdrivers/selenium-server-standalone.jar -Dwebdriver.chrome.driver=/c/seleniumdrivers/chromedriver.exe -Dwebdriver.ie.driver=/c/seleniumdrivers/IEDriverServer.exe\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-console",metastring:'title="PhantomJS"',children:"  /path/to/your/phantomjs/bin/phantomjs --webdriver=4444\n"})}),"\n",(0,r.jsx)(s.h2,{id:"compatibility",children:"Compatibility"}),"\n",(0,r.jsx)(s.p,{children:"Not all the drivers can execute all of Moodle's step definitions; we tagged the step definitions that are using features not supported by all browsers and also limitations that some browsers have; refer to the following table to know which browsers can run which tags:"}),"\n",(0,r.jsxs)(s.p,{children:["| | File uploads (@_file_upload) | Browser dialogs (@_alert)                                         | Switch window (@_switch_window) | Switch frame (@_switch_iframe) | Bugs in chrome (@skip_chrome_zerosize) | Bug in phantomjs (@_bug_phantomjs) |\n|------------------------------|-------------------------------------------------------------------|---------------------------------|--------------------------------|----------------------------------------|------------------------------------|\n| Firefox                      | Yes | Yes | Yes | Yes | Yes | Yes |\n| Chrome              | Yes | Yes | Yes | Yes | No (see ",(0,r.jsx)(s.a,{href:"https://tracker.moodle.org/browse/MDL-71108",children:"MDL-71108"}),") | Yes |\n| Internet Explorer          | Yes | Yes | No | Yes | Yes | Yes |\n| Safari          | Yes | No | No | Yes | Yes | Yes |\n| PhantomJS          | No | No | Yes | Yes | Yes | No |"]}),"\n",(0,r.jsxs)(s.p,{children:["Note that, to skip some tag, you must prepend it with the ",(0,r.jsx)("tt",{children:"~"})," (logical NOT) character. Examples:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Run all tests but ",(0,r.jsx)(s.code,{children:"@_alert</tt> ones: <tt>--tags '~@_alert'"})]}),"\n",(0,r.jsxs)(s.li,{children:["Run all chrome tests but ",(0,r.jsx)(s.code,{children:"@skip_chrome_zerosize"})," ones: ",(0,r.jsx)(s.code,{children:"--tags '@javascript&&~@skip_chrome_zerosize'"})]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"working-combinations-of-osbrowserselenium",children:"Working combinations of OS+Browser+selenium"}),"\n",(0,r.jsx)(s.p,{children:"As OS, Browsers and Selenium keeps updating, some combination of OS+Browser+Selenium will not work on specific moodle version."}),"\n",(0,r.jsxs)(s.p,{children:["We try to support the latest version of these combinations but they are not always BC and hence may not work with older releases. Please refer to ",(0,r.jsx)(s.a,{href:"/moodledevdocs/general/development/tools/behat/browsers/supportedbrowsers",children:"Working combinations of OS+Browser+selenium"})," to ensure you have correct combination of them to run acceptance test."]})]})}function m(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);