"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[25265],{89531:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>d,toc:()=>p});var t=i(74848),a=i(28453),s=i(78924);const o={title:"Links in the Moodle App",sidebar_label:"Links in the app",sidebar_position:1,tags:["Moodle App"]},l=void 0,d={id:"app/development/link-handling/app-links",title:"Links in the Moodle App",description:"Pressing a link inside the app",source:"@site/general/app/development/link-handling/app-links.md",sourceDirName:"app/development/link-handling",slug:"/app/development/link-handling/app-links",permalink:"/moodledevdocs/general/app/development/link-handling/app-links",draft:!1,unlisted:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/general/app/development/link-handling/app-links.md",tags:[{label:"Moodle App",permalink:"/moodledevdocs/general/tags/moodle-app"}],version:"current",lastUpdatedBy:"Noel De Martin",lastUpdatedAt:1715004871e3,sidebarPosition:1,frontMatter:{title:"Links in the Moodle App",sidebar_label:"Links in the app",sidebar_position:1,tags:["Moodle App"]},sidebar:"moodleapp",previous:{title:"Link handling",permalink:"/moodledevdocs/general/app/development/link-handling/"},next:{title:"Deep linking",permalink:"/moodledevdocs/general/app/development/link-handling/deep-linking"}},r={},p=[{value:"Pressing a link inside the app",id:"pressing-a-link-inside-the-app",level:2},{value:"Extending the list of supported URLs",id:"extending-the-list-of-supported-urls",level:2},{value:"Opening links in an embedded browser",id:"opening-links-in-an-embedded-browser",level:2},{value:"Adding links to any HTML element",id:"adding-links-to-any-html-element",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.A,{frontMatter:o,metadata:d}),"\n",(0,t.jsx)(n.h2,{id:"pressing-a-link-inside-the-app",children:"Pressing a link inside the app"}),"\n",(0,t.jsx)(n.p,{children:"When a user presses a link in the Moodle app, the behaviour changes depending on whether the URL is supported by the app or not:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If the URL belongs to the same site and it's supported by the app, then the app will try to open the corresponding page. For example if the user presses a link to an assignment, then the assignment will be opened inside the app rather than opening a browser."}),"\n",(0,t.jsxs)(n.li,{children:["If it's a URL pointing to an external site or it's a URL not supported by the app, then it will be opened in an external browser. This can also be configured to ",(0,t.jsx)(n.a,{href:"#opening-links-in-an-embedded-browser",children:"open in an embedded browser"}),". For example admin settings aren't supported by the app, so clicking a link to an admin settings page will open the page in an external browser."]}),"\n",(0,t.jsx)(n.li,{children:"If it's a URL pointing to a local file it will be opened with an external app in Android, and an embedded viewer in iOS. For example opening a PDF within a SCORM package would open a PDF reader in Android or and embedded PDF viewer in iOS."}),"\n",(0,t.jsxs)(n.li,{children:["If the link is inside an iframe (and is not pointing to a local file), it will be opened within the same iframe. This behaviour can be changed by setting the link's ",(0,t.jsx)(n.code,{children:"target"})," attribute to anything other than ",(0,t.jsx)(n.code,{children:"_self"}),", in which case the URL will be opened in an external browser. For example, clicking a link with a ",(0,t.jsx)(n.code,{children:'target="_blank"'})," attribute would open the URL in an external browser."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"extending-the-list-of-supported-urls",children:"Extending the list of supported URLs"}),"\n",(0,t.jsxs)(n.p,{children:["The app has a defined list of supported URLs. If you have a plugin adapted to work in the app and you want to support links to your plugin you will need to create a Link Handler. For more information and examples about this, please see the ",(0,t.jsx)(n.a,{href:"/moodledevdocs/general/app/development/plugins-development-guide/api-reference#corecontentlinksdelegate",children:"CoreContentLinksDelegate"})," documentation."]}),"\n",(0,t.jsx)(n.h2,{id:"opening-links-in-an-embedded-browser",children:"Opening links in an embedded browser"}),"\n",(0,t.jsxs)(n.p,{children:["To open a link in an embedded browser instead of an external browser you can use the ",(0,t.jsx)(n.code,{children:"data-open-in"})," attribute:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<a href="https://domain.com" data-open-in="app">\n'})}),"\n",(0,t.jsx)(n.admonition,{title:"Notice",type:"note",children:(0,t.jsx)(n.p,{children:"Please notice that students cannot add data attributes to HTML elements when using the Moodle editor, only teachers and users with the right permissions are able to add them."})}),"\n",(0,t.jsx)(n.h2,{id:"adding-links-to-any-html-element",children:"Adding links to any HTML element"}),"\n",(0,t.jsxs)(n.p,{children:["Using the ",(0,t.jsx)(n.code,{children:"data-app-url"})," attribute you can also add a link to any HTML element. This link will only be used when the element is clicked in the app, it won't affect the behaviour when using a browser."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<button data-app-url="https://domain.com">\n'})}),"\n",(0,t.jsx)(n.p,{children:"A possible use case is to define a link for elements that are handled using JavaScript in browser, since in most cases the JavaScript code used in browser won't work in the app. This way the app will open a certain page when the element is clicked, otherwise it wouldn't do anything."}),"\n",(0,t.jsx)(n.admonition,{title:"Notice",type:"note",children:(0,t.jsx)(n.p,{children:"Please notice that these links will always be opened in browser or embedded browser, not inside the app."})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"data-app-url"})," attribute can also be used to define an alternate link to be used only in the app:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<a href="https://domain.com" data-app-url="https://anotherdomain.com"></a>\n'})}),"\n",(0,t.jsxs)(n.p,{children:["When the link above is clicked in browser it will open ",(0,t.jsx)(n.code,{children:"https://domain.com"}),", but when it's clicked in the app it will open ",(0,t.jsx)(n.code,{children:"https://anotherdomain.com"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"The behaviour can be customised with the following data attributes:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"data-open-in"}),': Set it to "app" to open the page in an embedded browser instead of the system browser.']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"data-app-url-confirm"}),": A confirmation message to be displayed before opening the browser."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"data-app-url-resume-action"}),': Set it to "refresh" to update the course page when the user goes back to the app. Right now this only works in the course page, but in the future it might be added to other pages.']}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"An example using all the attributes:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<button\n    data-app-url="https://anotherdomain.com"\n    data-open-in="app"\n    data-app-url-confirm="You need to enrol to the course in the browser."\n    data-app-url-resume-action="refresh"\n>\n    Click me\n</button>\n'})}),"\n",(0,t.jsx)(n.admonition,{title:"Notice",type:"note",children:(0,t.jsx)(n.p,{children:"Please notice that students cannot add data attributes to HTML elements when using the Moodle editor, only teachers and users with the right permissions are able to add them."})})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);