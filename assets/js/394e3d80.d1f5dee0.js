"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[97851],{87178:(e,o,i)=>{i.r(o),i.d(o,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>l});var n=i(74848),s=i(28453),t=i(78924);const d={title:"Choice Dropdown",tags:["core_form","form"]},c=void 0,r={id:"apis/subsystems/form/fields/choicedropdown",title:"Choice Dropdown",description:"The choicedropdown form field creates a dropdown list with multiple options. It is different from a standard select dropdown in that each option can have extra icons and descriptions. This field is often used in forms to facilitate the selection of a non-trivial option that demands additional information.",source:"@site/docs/apis/subsystems/form/fields/choicedropdown.md",sourceDirName:"apis/subsystems/form/fields",slug:"/apis/subsystems/form/fields/choicedropdown",permalink:"/moodledevdocs/docs/4.4/apis/subsystems/form/fields/choicedropdown",draft:!1,unlisted:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/docs/apis/subsystems/form/fields/choicedropdown.md",tags:[{label:"core_form",permalink:"/moodledevdocs/docs/4.4/tags/core-form"},{label:"form",permalink:"/moodledevdocs/docs/4.4/tags/form"}],version:"current",lastUpdatedBy:"Andrew Nicols",lastUpdatedAt:1713839841e3,frontMatter:{title:"Choice Dropdown",tags:["core_form","form"]},sidebar:"docs",previous:{title:"Repeat elements",permalink:"/moodledevdocs/docs/4.4/apis/subsystems/form/advanced/repeat-elements"},next:{title:"Form Usage",permalink:"/moodledevdocs/docs/4.4/apis/subsystems/form/usage/"}},a={},l=[{value:"Using the <code>choicedropdown</code> Form Field",id:"using-the-choicedropdown-form-field",level:2},{value:"Example Usage",id:"example-usage",level:2}];function p(e){const o={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.A,{frontMatter:d,metadata:r}),"\n",(0,n.jsxs)(o.p,{children:["The ",(0,n.jsx)(o.code,{children:"choicedropdown"})," form field creates a dropdown list with multiple options. It is different from a standard select dropdown in that each option can have extra icons and descriptions. This field is often used in forms to facilitate the selection of a non-trivial option that demands additional information."]}),"\n",(0,n.jsxs)(o.h2,{id:"using-the-choicedropdown-form-field",children:["Using the ",(0,n.jsx)(o.code,{children:"choicedropdown"})," Form Field"]}),"\n",(0,n.jsxs)(o.p,{children:["While most form API fields use primitive data types, the ",(0,n.jsx)(o.code,{children:"choicedropdown"})," form field uses a particular data definition called ",(0,n.jsx)(o.code,{children:"choicelist"}),". This data definition is an abstraction that represents a user choice list and is used in other UI components like ",(0,n.jsx)(o.code,{children:"core\\output\\local\\dropdown\\status"})," or ",(0,n.jsx)(o.code,{children:"core\\output\\local\\action_menu\\subpanel"}),"."]}),"\n",(0,n.jsxs)(o.p,{children:["The ",(0,n.jsx)(o.code,{children:"choicelist"})," class provides a way to define a list of options with additional information such as icons, descriptions, the currently selected option, or the ability to disable specific options."]}),"\n",(0,n.jsx)(o.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,n.jsxs)(o.p,{children:["To create a ",(0,n.jsx)(o.code,{children:"choicedropdown"})," form field, you need to:"]}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Create a new instance of the ",(0,n.jsx)(o.code,{children:"choicelist"})," class."]}),"\n",(0,n.jsxs)(o.li,{children:["Add options and any extra information to the ",(0,n.jsx)(o.code,{children:"choicelist"})," instance."]}),"\n",(0,n.jsxs)(o.li,{children:["Add the ",(0,n.jsx)(o.code,{children:"choicedropdown"})," form field to the form, passing the ",(0,n.jsx)(o.code,{children:"choicelist"})," instance."]}),"\n"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-php",children:"// Define the options for the dropdown list.\n$options = new core\\output\\choicelist();\n$options->add_option(\n    'option1',\n    \"Text option 1\",\n    [\n        'description' => 'Option 1 description',\n        'icon' => new pix_icon('t/hide', 'Eye icon 1'),\n    ]\n);\n$options->add_option(\n    'option2',\n    \"Text option 2\",\n    [\n        'description' => 'Option 2 description',\n        'icon' => new pix_icon('t/stealth', 'Eye icon 2'),\n    ]\n);\n$options->add_option(\n    'option3',\n    \"Text option 3\",\n    [\n        'description' => 'Option 3 description',\n        'icon' => new pix_icon('t/show', 'Eye icon 3'),\n    ]\n);\n\n// Add the choicedropdown field to the form.\n$mform->addElement(\n    'choicedropdown',\n    'FIELDNAME',\n    get_string('FIELDNAME', 'PLUGINNAME'),\n    $options,\n);\n$mform->setDefault('FIELDNAME', $defaultvalue);\n"})})]})}function h(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}}}]);